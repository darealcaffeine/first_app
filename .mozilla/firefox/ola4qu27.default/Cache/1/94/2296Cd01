<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang='en' xml:lang='en' xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Ruby on Rails Tutorial: Learn Rails by Example | Ruby on Rails 3 Tutorial book and screencasts | by Michael Hartl</title>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta name="robots" content="all" />
<meta name="MSSmartTagsPreventParsing" content="true" />
<meta name="description" content="Ruby on Rails Tutorial: Learn Rails by Example by Michael Hartl" />
<meta name="keywords" content="Learn Ruby Rails Tutorial website development Rails 3" />
<meta name="author" content="Michael Hartl" />
<meta property="og:title" content="Ruby on Rails Tutorial: Learn Rails by Example"/>
<meta property="og:site_name" content="Ruby on Rails Tutorial"/>
<meta property="og:image" content="http://railstutorial.org/images/layout/logo.png"/>
<meta property="og:url" content="http://railstutorial.org/">
<meta property="og:type" content="article" />
<meta property="og:description" content="Ruby on Rails Tutorial: Learn Rails by Example by Michael Hartl teaches web development with Ruby on Rails. Rails Tutorial is fully up-to-date with Rails 3.0." />
    <link href="/stylesheets/polytexnic.css?1308890298" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/pygments.css?1308890298" media="screen" rel="stylesheet" type="text/css" />

      <link href="/stylesheets/screen.css?1308890298" media="screen, projection" rel="stylesheet" type="text/css" />
      
    <link href="/stylesheets/print.css?1308890298" media="print" rel="stylesheet" type="text/css" />
    <!--[if lte IE 7]><link href="/stylesheets/ie.css?1308890298" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <!--[if lt IE 7]>  <div style='border: 1px solid #F7941D; background: #FEEFDA; text-align: center; clear: both; height: 75px; position: relative;'>    <div style='position: absolute; right: 3px; top: 3px; font-family: courier new; font-weight: bold;'><a href='#' onclick='javascript:this.parentNode.parentNode.style.display="none"; return false;'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-cornerx.jpg' style='border: none;' alt='Close this notice'/></a></div>    <div style='width: 640px; margin: 0 auto; text-align: left; padding: 0; overflow: hidden; color: black;'>      <div style='width: 75px; float: left;'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-warning.jpg' alt='Warning!'/></div>      <div style='width: 275px; float: left; font-family: Arial, sans-serif;'>        <div style='font-size: 14px; font-weight: bold; margin-top: 12px;'>You are using an outdated browser</div>        <div style='font-size: 12px; margin-top: 6px; line-height: 12px;'>For a better experience using this site, please upgrade to a modern web browser.</div>      </div>      <div style='width: 75px; float: left;'><a href='http://www.firefox.com' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-firefox.jpg' style='border: none;' alt='Get Firefox 3.5'/></a></div>      <div style='width: 75px; float: left;'><a href='http://www.browserforthebetter.com/download.html' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-ie8.jpg' style='border: none;' alt='Get Internet Explorer 8'/></a></div>      <div style='width: 73px; float: left;'><a href='http://www.apple.com/safari/download/' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-safari.jpg' style='border: none;' alt='Get Safari 4'/></a></div>      <div style='float: left;'><a href='http://www.google.com/chrome' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-chrome.jpg' style='border: none;' alt='Get Google Chrome'/></a></div>    </div>  </div>  <![endif]-->
    <link href='http://feeds.feedburner.com/railstutorial' rel='alternate' title='Rails Tutorial News' type='application/rss+xml' />

    
    
  <base href="http://ruby.railstutorial.org/chapters/" />


  </head>
<body class="book"> 

  <div id="container">
    <div id="header" class="clearfix"><div id='title'>
  <div id='logo'><a href="http://ruby.railstutorial.org/"><img alt="Logo" src="/images/layout/logo.png?1308890298" /></a></div>
  <h1 id='name'>
    <a href="http://ruby.railstutorial.org/">Ruby on Rails Tutorial</a>
  </h1>
  <br />
  <h2 id='authors'>
    <a href="http://ruby.railstutorial.org/#author">by Michael Hartl</a>
  </h2>
</div>
</div>
    <div id="menu"><div class='links'>
  <div class='box'>
    <span>
      <a href="http://ruby.railstutorial.org/">Home</a>
    </span>
    <span class='division'>
      |
    </span>
    <span>
      Book
    </span>
    <span class='division'>
      |
    </span>
    <span>
      <a href="/help">Help</a>
    </span>
    <span class='division'>
      |
    </span>
    <span>
      <a href="/contact">Contact</a>
    </span>
    <span class='division'>
      |
    </span>
    <span>
      <a href="http://news.railstutorial.org/">News</a>
    </span>
    <span class='img'>
      <a href="http://feeds.feedburner.com/railstutorial"><img alt="Feed-icon16x16" class="feed" src="/images/icons/feed-icon16x16.png?1308890298" /></a>
    </span>
    <!-- %span.division -->
    <!-- 
    -->
    <!-- %span -->
    <!-- = link_to "By Email", email_url -->
    <!-- %span.img -->
    <!-- = link_to email_icon, email_url -->
    <span class='division'>
      |
    </span>
    <span>
      <a href="http://twitter.com/railstutorial">Follow</a>
    </span>
    <span>
      <a href="http://twitter.com/railstutorial"><img alt="Twitter-small" src="/images/icons/twitter-small.png?1308890298" /></a>
    </span>
  </div>
</div>
</div>     
      <div id="content">         
        <div id='sidebar'>
  <div class='content'>
      <!-- = link_to image_tag("icons/feed-icon32x32.png"), feed_url -->
    <!-- = link_to image_tag("icons/twitter.png"), twitter_url -->
    <!-- = link_to image_tag("icons/mail-icons/mail-icon-32x32.png"), email_url -->
    <div id='navtool'>
      <table class='layout'>
        <tr>
          <td colspan='2'><a href="/ruby-on-rails-tutorial-book#book_menu"><img alt="Up A Level" src="/images/buttons/sb_button_up.png?1308890297" /></a></td>
        </tr>
        <tr>
          <td><img alt="Previous Chapter" src="/images/buttons/sb_button_prev.png?1308890297" /></td>
          <td><a href="a-demo-app#top"><img alt="Next Chapter" src="/images/buttons/sb_button_next.png?1308890297" /></a></td>
        </tr>
      </table>
      <a href="http://amzn.to/RTbook"><img alt="Buy Print Edition" src="/images/buttons/sb_button_buy_print_edition_red.png?1308890297" /></a>
      <br />
      <a href="/#buy"><img alt="Buy Screencasts" src="/images/buttons/sb_button_buy_screencasts_red.png?1308890297" /></a>
      <div class='connect'>
        <table class='center'>
          <tr>
            <td><a href="http://feeds.feedburner.com/railstutorial"><img alt="Feed-icon24x24" src="/images/icons/feed-icon24x24.png?1308890298" title="Get news updates via RSS" /></a></td>
            <td><a href="http://feedburner.google.com/fb/a/mailverify?uri=railstutorial&amp;loc=en_US"><img alt="Mail-icon-24x24" src="/images/icons/mail-icons/mail-icon-24x24.png?1308890298" title="Get news updates by email" /></a></td>
            <td><a href="http://www.facebook.com/pages/Ruby-on-Rails-Tutorial/197151265072"><img alt="Facebook-icon24x24" src="/images/icons/facebook-icon24x24.png?1308890298" title="Become a fan on Facebook" /></a></td>
            <td><a href="http://twitter.com/railstutorial"><img alt="Twitter-icon24x24" src="/images/icons/twitter-icon24x24.png?1308890298" title="Follow on Twitter" /></a></td>
          </tr>
        </table>
      </div>
      <div class='section'>
        <div class='switcher'>
          <span class='title round'>Rails 3</span>
          &#149;
          <span class='switcher_link'><a href="/ruby-on-rails-tutorial-book?version=2.3">Rails 2.3</a></span>
        </div>
        <div class='share'><fb:like href="http://railstutorial.org/" show_faces="false" layout="button_count" colorscheme="light"></fb:like></div>
      </div>
      <div class='section'>
        <a href='/affiliates'>
          Rails Tutorial Affiliate Program&mdash;50% commissions
        </a>
      </div>
      <div class='section'>
        <a href='/haml'>
          Bonus Screencast<br /> on Haml
        </a>
      </div>
    </div>
    <!-- .section -->
    <!-- Sidebar areas labeled with class "section", like this one, will be styled suitably for text. -->
  </div>
</div>
<!-- %h3 Get Involved -->
<!-- 
-->
<!-- .links -->
<!-- %p.subscribe -->
<!-- %span= link_to(image_tag('feed-icon32x32.png'), feed_url) -->
<!-- = link_to("Subscribe", feed_url) -->
<!-- %p.follow -->
<!-- = link_to(image_tag('twitter.png'), twitter_url) -->
<!-- = link_to("Follow", twitter_url) -->
<!-- 
-->

                      
        <div id="main" class="withsidebar">
          


<div id="book_menu">
  <a href="/ruby-on-rails-tutorial-book#main_content">skip to content</a>
  |
  <a href="/book/ruby-on-rails-tutorial">view as single page</a>
</div>


<div id="book_wrap">
  <div id="book_top">
  </div>
    <div id="book">


<h1 class="title">Ruby on Rails Tutorial </h1>


<h1 class="subtitle">  Learn Rails by Example</h1>


<h2 class="author">Michael Hartl</h2>




<h1 class="contents">Contents</h1>


<div id="table_of_contents"><ol><li class="chapter"><a href="/ruby-on-rails-tutorial-book#top"><span class="number">Chapter 1</span> From zero to deploy</a></li><li><ol><li class="section"><a href="/ruby-on-rails-tutorial-book#sec:introduction"><span class="number">1.1</span> Introduction</a></li><li><ol><li class="subsection"><a href="/ruby-on-rails-tutorial-book#sec:comments_for_various_readers"><span class="number">1.1.1</span> Comments for various readers</a></li><li class="subsection"><a href="/ruby-on-rails-tutorial-book#sec:1.1.2"><span class="number">1.1.2</span> &ldquo;Scaling&rdquo; Rails</a></li><li class="subsection"><a href="/ruby-on-rails-tutorial-book#sec:conventions"><span class="number">1.1.3</span> Conventions in this book</a></li></ol></li><li class="section"><a href="/ruby-on-rails-tutorial-book#sec:up_and_running"><span class="number">1.2</span> Up and running</a></li><li><ol><li class="subsection"><a href="/ruby-on-rails-tutorial-book#sec:development_tools"><span class="number">1.2.1</span> Development environments</a></li><li><ol><li class="subsubsection"><a href="/ruby-on-rails-tutorial-book#sec:1.2.1.1">IDEs</a></li><li class="subsubsection"><a href="/ruby-on-rails-tutorial-book#sec:1.2.1.2">Text editors and command lines</a></li><li class="subsubsection"><a href="/ruby-on-rails-tutorial-book#sec:1.2.1.3">Browsers</a></li><li class="subsubsection"><a href="/ruby-on-rails-tutorial-book#sec:1.2.1.4">A note about tools</a></li></ol></li><li class="subsection"><a href="/ruby-on-rails-tutorial-book#sec:rubygems"><span class="number">1.2.2</span> Ruby, RubyGems, Rails, and Git</a></li><li><ol><li class="subsubsection"><a href="/ruby-on-rails-tutorial-book#sec:rails_installer_windows">Rails Installer (Windows)</a></li><li class="subsubsection"><a href="/ruby-on-rails-tutorial-book#sec:install_git">Install Git</a></li><li class="subsubsection"><a href="/ruby-on-rails-tutorial-book#sec:install_ruby">Install Ruby</a></li><li class="subsubsection"><a href="/ruby-on-rails-tutorial-book#sec:install_rubygems">Install RubyGems</a></li><li class="subsubsection"><a href="/ruby-on-rails-tutorial-book#sec:install_rails">Install Rails</a></li></ol></li><li class="subsection"><a href="/ruby-on-rails-tutorial-book#sec:the_first_application"><span class="number">1.2.3</span> The first application</a></li><li class="subsection"><a href="/ruby-on-rails-tutorial-book#sec:bundler"><span class="number">1.2.4</span> Bundler</a></li><li class="subsection"><a href="/ruby-on-rails-tutorial-book#sec:rails_server"><span class="number">1.2.5</span> <code>rails server</code></a></li><li class="subsection"><a href="/ruby-on-rails-tutorial-book#sec:mvc"><span class="number">1.2.6</span> Model-view-controller (MVC)</a></li></ol></li><li class="section"><a href="/ruby-on-rails-tutorial-book#sec:version_control"><span class="number">1.3</span> Version control with Git</a></li><li><ol><li class="subsection"><a href="/ruby-on-rails-tutorial-book#sec:git_setup"><span class="number">1.3.1</span> Installation and setup</a></li><li><ol><li class="subsubsection"><a href="/ruby-on-rails-tutorial-book#sec:1.3.1.1">First-time system setup</a></li><li class="subsubsection"><a href="/ruby-on-rails-tutorial-book#sec:1.3.1.2">First-time repository setup</a></li></ol></li><li class="subsection"><a href="/ruby-on-rails-tutorial-book#sec:adding_and_committing"><span class="number">1.3.2</span> Adding and committing</a></li><li class="subsection"><a href="/ruby-on-rails-tutorial-book#sec:1.3.3"><span class="number">1.3.3</span> What good does Git do you?</a></li><li class="subsection"><a href="/ruby-on-rails-tutorial-book#sec:github"><span class="number">1.3.4</span> GitHub</a></li><li class="subsection"><a href="/ruby-on-rails-tutorial-book#sec:git_commands"><span class="number">1.3.5</span> Branch, edit, commit, merge</a></li><li><ol><li class="subsubsection"><a href="/ruby-on-rails-tutorial-book#sec:git_branch">Branch</a></li><li class="subsubsection"><a href="/ruby-on-rails-tutorial-book#sec:git_edit">Edit</a></li><li class="subsubsection"><a href="/ruby-on-rails-tutorial-book#sec:git_commit">Commit</a></li><li class="subsubsection"><a href="/ruby-on-rails-tutorial-book#sec:git_merge">Merge</a></li><li class="subsubsection"><a href="/ruby-on-rails-tutorial-book#sec:git_push">Push</a></li></ol></li></ol></li><li class="section"><a href="/ruby-on-rails-tutorial-book#sec:deploying"><span class="number">1.4</span> Deploying</a></li><li><ol><li class="subsection"><a href="/ruby-on-rails-tutorial-book#sec:1.4.1"><span class="number">1.4.1</span> Heroku setup</a></li><li class="subsection"><a href="/ruby-on-rails-tutorial-book#sec:heroku_step_one"><span class="number">1.4.2</span> Heroku deployment, step one</a></li><li class="subsection"><a href="/ruby-on-rails-tutorial-book#sec:1.4.3"><span class="number">1.4.3</span> Heroku deployment, step two</a></li><li class="subsection"><a href="/ruby-on-rails-tutorial-book#sec:heroku_commands"><span class="number">1.4.4</span> Heroku commands</a></li></ol></li><li class="section"><a href="/ruby-on-rails-tutorial-book#sec:beginning_conclusion"><span class="number">1.5</span> Conclusion</a></li></ol></li><li class="chapter"><a href="a-demo-app#top"><span class="number">Chapter 2</span> A demo app</a></li><li><ol><li class="section"><a href="a-demo-app#sec:planning_the_application"><span class="number">2.1</span> Planning the application</a></li><li><ol><li class="subsection"><a href="a-demo-app#sec:modeling_users"><span class="number">2.1.1</span> Modeling users</a></li><li class="subsection"><a href="a-demo-app#sec:modeling_microposts"><span class="number">2.1.2</span> Modeling microposts</a></li></ol></li><li class="section"><a href="a-demo-app#sec:demo_users_resource"><span class="number">2.2</span> The Users resource</a></li><li><ol><li class="subsection"><a href="a-demo-app#sec:a_user_tour"><span class="number">2.2.1</span> A user tour</a></li><li class="subsection"><a href="a-demo-app#sec:mvc_in_action"><span class="number">2.2.2</span> MVC in action</a></li><li class="subsection"><a href="a-demo-app#sec:weaknesses_of_this_users_resource"><span class="number">2.2.3</span> Weaknesses of this Users resource</a></li></ol></li><li class="section"><a href="a-demo-app#sec:microposts_resource"><span class="number">2.3</span> The Microposts resource</a></li><li><ol><li class="subsection"><a href="a-demo-app#sec:a_micropost_microtour"><span class="number">2.3.1</span> A micropost microtour</a></li><li class="subsection"><a href="a-demo-app#sec:putting_the_micro_in_microposts"><span class="number">2.3.2</span> Putting the <em>micro</em> in microposts</a></li><li class="subsection"><a href="a-demo-app#sec:demo_user_has_many_microposts"><span class="number">2.3.3</span> A user <code>has_many</code> microposts</a></li><li class="subsection"><a href="a-demo-app#sec:inheritance_hierarchies"><span class="number">2.3.4</span> Inheritance hierarchies</a></li><li class="subsection"><a href="a-demo-app#sec:deploying_the_demo_app"><span class="number">2.3.5</span> Deploying the demo app</a></li></ol></li><li class="section"><a href="a-demo-app#sec:2.4"><span class="number">2.4</span> Conclusion</a></li></ol></li><li class="chapter"><a href="static-pages#top"><span class="number">Chapter 3</span> Mostly static pages</a></li><li><ol><li class="section"><a href="static-pages#sec:static_pages"><span class="number">3.1</span> Static pages</a></li><li><ol><li class="subsection"><a href="static-pages#sec:truly_static_pages"><span class="number">3.1.1</span> Truly static pages</a></li><li class="subsection"><a href="static-pages#sec:static_pages_with_rails"><span class="number">3.1.2</span> Static pages with Rails</a></li></ol></li><li class="section"><a href="static-pages#sec:first_tests"><span class="number">3.2</span> Our first tests</a></li><li><ol><li class="subsection"><a href="static-pages#sec:testing_tools"><span class="number">3.2.1</span> Testing tools</a></li><li><ol><li class="subsubsection"><a href="static-pages#sec:autotest">Autotest</a></li></ol></li><li class="subsection"><a href="static-pages#sec:TDD"><span class="number">3.2.2</span> TDD: Red, Green, Refactor</a></li><li><ol><li class="subsubsection"><a href="static-pages#sec:spork">Spork</a></li><li class="subsubsection"><a href="static-pages#sec:red">Red</a></li><li class="subsubsection"><a href="static-pages#sec:green">Green</a></li><li class="subsubsection"><a href="static-pages#sec:refactor">Refactor</a></li></ol></li></ol></li><li class="section"><a href="static-pages#sec:slightly_dynamic_pages"><span class="number">3.3</span> Slightly dynamic pages</a></li><li><ol><li class="subsection"><a href="static-pages#sec:testing_a_title_change"><span class="number">3.3.1</span> Testing a title change</a></li><li class="subsection"><a href="static-pages#sec:passing_title_tests"><span class="number">3.3.2</span> Passing title tests</a></li><li class="subsection"><a href="static-pages#sec:instance_variables_embedded_ruby"><span class="number">3.3.3</span> Instance variables and Embedded Ruby</a></li><li class="subsection"><a href="static-pages#sec:layouts"><span class="number">3.3.4</span> Eliminating duplication with layouts</a></li></ol></li><li class="section"><a href="static-pages#sec:static_pages_conclusion"><span class="number">3.4</span> Conclusion</a></li><li class="section"><a href="static-pages#sec:static_pages_exercises"><span class="number">3.5</span> Exercises</a></li></ol></li><li class="chapter"><a href="rails-flavored-ruby#top"><span class="number">Chapter 4</span> Rails-flavored Ruby</a></li><li><ol><li class="section"><a href="rails-flavored-ruby#sec:motivation"><span class="number">4.1</span> Motivation</a></li><li><ol><li class="subsection"><a href="rails-flavored-ruby#sec:title_helper"><span class="number">4.1.1</span> A <code>title</code> helper</a></li><li class="subsection"><a href="rails-flavored-ruby#sec:cascading_style_sheets"><span class="number">4.1.2</span> Cascading Style Sheets</a></li></ol></li><li class="section"><a href="rails-flavored-ruby#sec:strings_and_methods"><span class="number">4.2</span> Strings and methods</a></li><li><ol><li class="subsection"><a href="rails-flavored-ruby#sec:comments"><span class="number">4.2.1</span> Comments</a></li><li class="subsection"><a href="rails-flavored-ruby#sec:strings"><span class="number">4.2.2</span> Strings</a></li><li><ol><li class="subsubsection"><a href="rails-flavored-ruby#sec:printing">Printing</a></li><li class="subsubsection"><a href="rails-flavored-ruby#sec:single_quoted_strings">Single-quoted strings</a></li></ol></li><li class="subsection"><a href="rails-flavored-ruby#sec:objects_and_message_passing"><span class="number">4.2.3</span> Objects and message passing</a></li><li class="subsection"><a href="rails-flavored-ruby#sec:method_definitions"><span class="number">4.2.4</span> Method definitions</a></li><li class="subsection"><a href="rails-flavored-ruby#sec:back_to_the_title_helper"><span class="number">4.2.5</span> Back to the <code>title</code> helper</a></li></ol></li><li class="section"><a href="rails-flavored-ruby#sec:other_data_structures"><span class="number">4.3</span> Other data structures</a></li><li><ol><li class="subsection"><a href="rails-flavored-ruby#sec:arrays_and_ranges"><span class="number">4.3.1</span> Arrays and ranges</a></li><li class="subsection"><a href="rails-flavored-ruby#sec:blocks"><span class="number">4.3.2</span> Blocks</a></li><li class="subsection"><a href="rails-flavored-ruby#sec:hashes_and_symbols"><span class="number">4.3.3</span> Hashes and symbols</a></li><li class="subsection"><a href="rails-flavored-ruby#sec:css_revisited"><span class="number">4.3.4</span> CSS revisited</a></li></ol></li><li class="section"><a href="rails-flavored-ruby#sec:ruby_classes"><span class="number">4.4</span> Ruby classes</a></li><li><ol><li class="subsection"><a href="rails-flavored-ruby#sec:constructors"><span class="number">4.4.1</span> Constructors</a></li><li class="subsection"><a href="rails-flavored-ruby#sec:a_class_of_our_own"><span class="number">4.4.2</span> Class inheritance</a></li><li class="subsection"><a href="rails-flavored-ruby#sec:modifying_built_in_classes"><span class="number">4.4.3</span> Modifying built-in classes</a></li><li class="subsection"><a href="rails-flavored-ruby#sec:a_controller_class"><span class="number">4.4.4</span> A controller class</a></li><li class="subsection"><a href="rails-flavored-ruby#sec:a_user_class"><span class="number">4.4.5</span> A user class</a></li></ol></li><li class="section"><a href="rails-flavored-ruby#sec:exercises"><span class="number">4.5</span> Exercises</a></li></ol></li><li class="chapter"><a href="filling-in-the-layout#top"><span class="number">Chapter 5</span> Filling in the layout</a></li><li><ol><li class="section"><a href="filling-in-the-layout#sec:structure"><span class="number">5.1</span> Adding some structure</a></li><li><ol><li class="subsection"><a href="filling-in-the-layout#sec:adding_to_the_layout"><span class="number">5.1.1</span> Site navigation</a></li><li class="subsection"><a href="filling-in-the-layout#sec:custom_css"><span class="number">5.1.2</span> Custom CSS</a></li><li class="subsection"><a href="filling-in-the-layout#sec:partials"><span class="number">5.1.3</span> Partials</a></li></ol></li><li class="section"><a href="filling-in-the-layout#sec:layout_links"><span class="number">5.2</span> Layout links</a></li><li><ol><li class="subsection"><a href="filling-in-the-layout#sec:integration_tests"><span class="number">5.2.1</span> Integration tests</a></li><li class="subsection"><a href="filling-in-the-layout#sec:rails_routes"><span class="number">5.2.2</span> Rails routes</a></li><li class="subsection"><a href="filling-in-the-layout#sec:named_routes"><span class="number">5.2.3</span> Named routes</a></li></ol></li><li class="section"><a href="filling-in-the-layout#sec:user_signup"><span class="number">5.3</span> User signup: A first step</a></li><li><ol><li class="subsection"><a href="filling-in-the-layout#sec:users_controller"><span class="number">5.3.1</span> Users controller</a></li><li class="subsection"><a href="filling-in-the-layout#sec:signup_url"><span class="number">5.3.2</span> Signup URL</a></li></ol></li><li class="section"><a href="filling-in-the-layout#sec:layout_conclusion"><span class="number">5.4</span> Conclusion</a></li><li class="section"><a href="filling-in-the-layout#sec:layout_exercises"><span class="number">5.5</span> Exercises</a></li></ol></li><li class="chapter"><a href="modeling-and-viewing-users-one#top"><span class="number">Chapter 6</span> Modeling and viewing users, part I</a></li><li><ol><li class="section"><a href="modeling-and-viewing-users-one#sec:user_model"><span class="number">6.1</span> User model</a></li><li><ol><li class="subsection"><a href="modeling-and-viewing-users-one#sec:database_migrations"><span class="number">6.1.1</span> Database migrations</a></li><li class="subsection"><a href="modeling-and-viewing-users-one#sec:the_model_file"><span class="number">6.1.2</span> The model file</a></li><li><ol><li class="subsubsection"><a href="modeling-and-viewing-users-one#sec:model_annotation">Model annotation</a></li><li class="subsubsection"><a href="modeling-and-viewing-users-one#sec:accessible_attributes">Accessible attributes</a></li></ol></li><li class="subsection"><a href="modeling-and-viewing-users-one#sec:creating_user_objects"><span class="number">6.1.3</span> Creating user objects</a></li><li class="subsection"><a href="modeling-and-viewing-users-one#sec:finding_user_objects"><span class="number">6.1.4</span> Finding user objects</a></li><li class="subsection"><a href="modeling-and-viewing-users-one#sec:updating_user_objects"><span class="number">6.1.5</span> Updating user objects</a></li></ol></li><li class="section"><a href="modeling-and-viewing-users-one#sec:user_validations"><span class="number">6.2</span> User validations</a></li><li><ol><li class="subsection"><a href="modeling-and-viewing-users-one#sec:presence_validation"><span class="number">6.2.1</span> Validating presence</a></li><li class="subsection"><a href="modeling-and-viewing-users-one#sec:length_validation"><span class="number">6.2.2</span> Length validation</a></li><li class="subsection"><a href="modeling-and-viewing-users-one#sec:format_validation"><span class="number">6.2.3</span> Format validation</a></li><li class="subsection"><a href="modeling-and-viewing-users-one#sec:uniqueness_validation"><span class="number">6.2.4</span> Uniqueness validation</a></li><li><ol><li class="subsubsection"><a href="modeling-and-viewing-users-one#sec:the_caveat">The uniqueness caveat</a></li></ol></li></ol></li><li class="section"><a href="modeling-and-viewing-users-one#sec:viewing_users"><span class="number">6.3</span> Viewing users</a></li><li><ol><li class="subsection"><a href="modeling-and-viewing-users-one#sec:rails_environments"><span class="number">6.3.1</span> Debug and Rails environments</a></li><li class="subsection"><a href="modeling-and-viewing-users-one#sec:users_show"><span class="number">6.3.2</span> User model, view, controller</a></li><li class="subsection"><a href="modeling-and-viewing-users-one#sec:a_users_resource"><span class="number">6.3.3</span> A Users resource</a></li><li><ol><li class="subsubsection"><a href="modeling-and-viewing-users-one#sec:params_in_debug"><code>params</code> in <code>debug</code></a></li></ol></li></ol></li><li class="section"><a href="modeling-and-viewing-users-one#sec:6.4"><span class="number">6.4</span> Conclusion</a></li><li class="section"><a href="modeling-and-viewing-users-one#sec:6.5"><span class="number">6.5</span> Exercises</a></li></ol></li><li class="chapter"><a href="modeling-and-viewing-users-two#top"><span class="number">Chapter 7</span> Modeling and viewing users, part II</a></li><li><ol><li class="section"><a href="modeling-and-viewing-users-two#sec:insecure_passwords"><span class="number">7.1</span> Insecure passwords</a></li><li><ol><li class="subsection"><a href="modeling-and-viewing-users-two#sec:password_validations"><span class="number">7.1.1</span> Password validations</a></li><li class="subsection"><a href="modeling-and-viewing-users-two#sec:password_migration"><span class="number">7.1.2</span> A password migration</a></li><li class="subsection"><a href="modeling-and-viewing-users-two#sec:an_active_record_callback"><span class="number">7.1.3</span> An Active Record callback</a></li></ol></li><li class="section"><a href="modeling-and-viewing-users-two#sec:secure_passwords"><span class="number">7.2</span> Secure passwords</a></li><li><ol><li class="subsection"><a href="modeling-and-viewing-users-two#sec:a_secure_password_test"><span class="number">7.2.1</span> A secure password test</a></li><li class="subsection"><a href="modeling-and-viewing-users-two#sec:secure_password_theory"><span class="number">7.2.2</span> Some secure password theory</a></li><li class="subsection"><a href="modeling-and-viewing-users-two#sec:implementing_has_password"><span class="number">7.2.3</span> Implementing <code>has_password?</code></a></li><li class="subsection"><a href="modeling-and-viewing-users-two#sec:an_authenticate_method"><span class="number">7.2.4</span> An authenticate method</a></li></ol></li><li class="section"><a href="modeling-and-viewing-users-two#sec:better_user_views"><span class="number">7.3</span> Better user views</a></li><li><ol><li class="subsection"><a href="modeling-and-viewing-users-two#sec:tests_with_factories"><span class="number">7.3.1</span> Testing the user show page (with factories)</a></li><li class="subsection"><a href="modeling-and-viewing-users-two#sec:a_name_and_a_gravatar"><span class="number">7.3.2</span> A name and a Gravatar</a></li><li><ol><li class="subsubsection"><a href="modeling-and-viewing-users-two#sec:a_gravatar_helper">A Gravatar helper</a></li></ol></li><li class="subsection"><a href="modeling-and-viewing-users-two#sec:a_user_sidebar"><span class="number">7.3.3</span> A user sidebar</a></li></ol></li><li class="section"><a href="modeling-and-viewing-users-two#sec:7.4"><span class="number">7.4</span> Conclusion</a></li><li><ol><li class="subsection"><a href="modeling-and-viewing-users-two#sec:7.4.1"><span class="number">7.4.1</span> Git commit</a></li><li class="subsection"><a href="modeling-and-viewing-users-two#sec:heroku_deploy"><span class="number">7.4.2</span> Heroku deploy</a></li></ol></li><li class="section"><a href="modeling-and-viewing-users-two#sec:more_modeling_users_exercises"><span class="number">7.5</span> Exercises</a></li></ol></li><li class="chapter"><a href="sign-up#top"><span class="number">Chapter 8</span> Sign up</a></li><li><ol><li class="section"><a href="sign-up#sec:signup_form"><span class="number">8.1</span> Signup form</a></li><li><ol><li class="subsection"><a href="sign-up#sec:using_form_for"><span class="number">8.1.1</span> Using <code>form_for</code></a></li><li class="subsection"><a href="sign-up#sec:the_form_html"><span class="number">8.1.2</span> The form HTML</a></li></ol></li><li class="section"><a href="sign-up#sec:signup_failure"><span class="number">8.2</span> Signup failure</a></li><li><ol><li class="subsection"><a href="sign-up#sec:testing_failure"><span class="number">8.2.1</span> Testing failure</a></li><li class="subsection"><a href="sign-up#sec:a_working_form"><span class="number">8.2.2</span> A working form</a></li><li class="subsection"><a href="sign-up#sec:signup_error_messages"><span class="number">8.2.3</span> Signup error messages</a></li><li class="subsection"><a href="sign-up#sec:filtering_parameter_logging"><span class="number">8.2.4</span> Filtering parameter logging</a></li></ol></li><li class="section"><a href="sign-up#sec:signup_success"><span class="number">8.3</span> Signup success</a></li><li><ol><li class="subsection"><a href="sign-up#sec:testing_success"><span class="number">8.3.1</span> Testing success</a></li><li class="subsection"><a href="sign-up#sec:the_finished_signup_form"><span class="number">8.3.2</span> The finished signup form</a></li><li class="subsection"><a href="sign-up#sec:the_flash"><span class="number">8.3.3</span> The flash</a></li><li class="subsection"><a href="sign-up#sec:the_first_signup"><span class="number">8.3.4</span> The first signup</a></li></ol></li><li class="section"><a href="sign-up#sec:rspec_integration_tests"><span class="number">8.4</span> RSpec integration tests</a></li><li><ol><li class="subsection"><a href="sign-up#sec:integration_tests_with_style"><span class="number">8.4.1</span> Integration tests with style</a></li><li class="subsection"><a href="sign-up#sec:failed_signup"><span class="number">8.4.2</span> Users signup failure should not make a new user</a></li><li class="subsection"><a href="sign-up#sec:successful_signup"><span class="number">8.4.3</span> Users signup success should make a new user</a></li></ol></li><li class="section"><a href="sign-up#sec:8.5"><span class="number">8.5</span> Conclusion</a></li><li class="section"><a href="sign-up#sec:signup_exercises"><span class="number">8.6</span> Exercises</a></li></ol></li><li class="chapter"><a href="sign-in-sign-out#top"><span class="number">Chapter 9</span> Sign in, sign out</a></li><li><ol><li class="section"><a href="sign-in-sign-out#sec:sessions"><span class="number">9.1</span> Sessions</a></li><li><ol><li class="subsection"><a href="sign-in-sign-out#sec:sessions_controller"><span class="number">9.1.1</span> Sessions controller</a></li><li class="subsection"><a href="sign-in-sign-out#sec:signin_form"><span class="number">9.1.2</span> Signin form</a></li></ol></li><li class="section"><a href="sign-in-sign-out#sec:signin_failure"><span class="number">9.2</span> Signin failure</a></li><li><ol><li class="subsection"><a href="sign-in-sign-out#sec:reviewing_form_submission"><span class="number">9.2.1</span> Reviewing form submission</a></li><li class="subsection"><a href="sign-in-sign-out#sec:failed_signin"><span class="number">9.2.2</span> Failed signin (test and code)</a></li></ol></li><li class="section"><a href="sign-in-sign-out#sec:signin_success"><span class="number">9.3</span> Signin success</a></li><li><ol><li class="subsection"><a href="sign-in-sign-out#sec:the_completed_create_action"><span class="number">9.3.1</span> The completed <code>create</code> action</a></li><li class="subsection"><a href="sign-in-sign-out#sec:remember_me"><span class="number">9.3.2</span> Remember me</a></li><li class="subsection"><a href="sign-in-sign-out#sec:current_user"><span class="number">9.3.3</span> Current user</a></li></ol></li><li class="section"><a href="sign-in-sign-out#sec:signing_out"><span class="number">9.4</span> Signing out</a></li><li><ol><li class="subsection"><a href="sign-in-sign-out#sec:destroying_sessions"><span class="number">9.4.1</span> Destroying sessions</a></li><li class="subsection"><a href="sign-in-sign-out#sec:signin_upon_signup"><span class="number">9.4.2</span> Signin upon signup</a></li><li class="subsection"><a href="sign-in-sign-out#sec:changing_the_layout_links"><span class="number">9.4.3</span> Changing the layout links</a></li><li class="subsection"><a href="sign-in-sign-out#sec:signin_out_integration_tests"><span class="number">9.4.4</span> Signin/out integration tests</a></li></ol></li><li class="section"><a href="sign-in-sign-out#sec:9.5"><span class="number">9.5</span> Conclusion</a></li><li class="section"><a href="sign-in-sign-out#sec:sign_in_out_exercises"><span class="number">9.6</span> Exercises</a></li></ol></li><li class="chapter"><a href="updating-showing-and-deleting-users#top"><span class="number">Chapter 10</span> Updating, showing, and deleting users</a></li><li><ol><li class="section"><a href="updating-showing-and-deleting-users#sec:updating_users"><span class="number">10.1</span> Updating users</a></li><li><ol><li class="subsection"><a href="updating-showing-and-deleting-users#sec:edit_form"><span class="number">10.1.1</span> Edit form</a></li><li class="subsection"><a href="updating-showing-and-deleting-users#sec:enabling_edits"><span class="number">10.1.2</span> Enabling edits</a></li></ol></li><li class="section"><a href="updating-showing-and-deleting-users#sec:protecting_pages"><span class="number">10.2</span> Protecting pages</a></li><li><ol><li class="subsection"><a href="updating-showing-and-deleting-users#sec:requiring_signed_in_users"><span class="number">10.2.1</span> Requiring signed-in users</a></li><li class="subsection"><a href="updating-showing-and-deleting-users#sec:requiring_the_right_user"><span class="number">10.2.2</span> Requiring the right user</a></li><li class="subsection"><a href="updating-showing-and-deleting-users#sec:friendly_forwarding"><span class="number">10.2.3</span> Friendly forwarding</a></li></ol></li><li class="section"><a href="updating-showing-and-deleting-users#sec:showing_users"><span class="number">10.3</span> Showing users</a></li><li><ol><li class="subsection"><a href="updating-showing-and-deleting-users#sec:user_index"><span class="number">10.3.1</span> User index</a></li><li class="subsection"><a href="updating-showing-and-deleting-users#sec:sample_users"><span class="number">10.3.2</span> Sample users</a></li><li class="subsection"><a href="updating-showing-and-deleting-users#sec:pagination"><span class="number">10.3.3</span> Pagination</a></li><li><ol><li class="subsubsection"><a href="updating-showing-and-deleting-users#sec:testing_pagination">Testing pagination</a></li></ol></li><li class="subsection"><a href="updating-showing-and-deleting-users#sec:partial_refactoring"><span class="number">10.3.4</span> Partial refactoring</a></li></ol></li><li class="section"><a href="updating-showing-and-deleting-users#sec:destroying_users"><span class="number">10.4</span> Destroying users</a></li><li><ol><li class="subsection"><a href="updating-showing-and-deleting-users#sec:administrative_users"><span class="number">10.4.1</span> Administrative users</a></li><li><ol><li class="subsubsection"><a href="updating-showing-and-deleting-users#sec:revisiting_attr_accessible">Revisiting <code>attr_accessible</code></a></li></ol></li><li class="subsection"><a href="updating-showing-and-deleting-users#sec:the_destroy_action"><span class="number">10.4.2</span> The <code>destroy</code> action</a></li></ol></li><li class="section"><a href="updating-showing-and-deleting-users#sec:10.5"><span class="number">10.5</span> Conclusion</a></li><li class="section"><a href="updating-showing-and-deleting-users#sec:updating_deleting_exercises"><span class="number">10.6</span> Exercises</a></li></ol></li><li class="chapter"><a href="user-microposts#top"><span class="number">Chapter 11</span> User microposts</a></li><li><ol><li class="section"><a href="user-microposts#sec:a_micropost_model"><span class="number">11.1</span> A Micropost model</a></li><li><ol><li class="subsection"><a href="user-microposts#sec:the_basic_model"><span class="number">11.1.1</span> The basic model</a></li><li><ol><li class="subsubsection"><a href="user-microposts#sec:accessible_attribute">Accessible attribute</a></li></ol></li><li class="subsection"><a href="user-microposts#sec:user_micropost_associations"><span class="number">11.1.2</span> User/Micropost associations</a></li><li class="subsection"><a href="user-microposts#sec:ordering_and_dependency"><span class="number">11.1.3</span> Micropost refinements</a></li><li><ol><li class="subsubsection"><a href="user-microposts#sec:default_scope">Default scope</a></li><li class="subsubsection"><a href="user-microposts#sec:dependent_destroy">Dependent: destroy</a></li></ol></li><li class="subsection"><a href="user-microposts#sec:micropost_validations"><span class="number">11.1.4</span> Micropost validations</a></li></ol></li><li class="section"><a href="user-microposts#sec:showing_microposts"><span class="number">11.2</span> Showing microposts</a></li><li><ol><li class="subsection"><a href="user-microposts#sec:augmenting_the_user_show_page"><span class="number">11.2.1</span> Augmenting the user show page</a></li><li class="subsection"><a href="user-microposts#sec:sample_microposts"><span class="number">11.2.2</span> Sample microposts</a></li></ol></li><li class="section"><a href="user-microposts#sec:manipulating_microposts"><span class="number">11.3</span> Manipulating microposts</a></li><li><ol><li class="subsection"><a href="user-microposts#sec:access_control"><span class="number">11.3.1</span> Access control</a></li><li class="subsection"><a href="user-microposts#sec:creating_microposts"><span class="number">11.3.2</span> Creating microposts</a></li><li class="subsection"><a href="user-microposts#sec:a_proto_feed"><span class="number">11.3.3</span> A proto-feed</a></li><li class="subsection"><a href="user-microposts#sec:destroying_microposts"><span class="number">11.3.4</span> Destroying microposts</a></li><li class="subsection"><a href="user-microposts#sec:testing_the_new_home_page"><span class="number">11.3.5</span> Testing the new home page</a></li></ol></li><li class="section"><a href="user-microposts#sec:11.4"><span class="number">11.4</span> Conclusion</a></li><li class="section"><a href="user-microposts#sec:micropost_exercises"><span class="number">11.5</span> Exercises</a></li></ol></li><li class="chapter"><a href="following-users#top"><span class="number">Chapter 12</span> Following users</a></li><li><ol><li class="section"><a href="following-users#sec:the_relationship_model"><span class="number">12.1</span> The Relationship model</a></li><li><ol><li class="subsection"><a href="following-users#sec:a_problem_with_the_data_model"><span class="number">12.1.1</span> A problem with the data model (and a solution)</a></li><li class="subsection"><a href="following-users#sec:relationship_user_associations"><span class="number">12.1.2</span> User/relationship associations</a></li><li class="subsection"><a href="following-users#sec:relationship_validations"><span class="number">12.1.3</span> Validations</a></li><li class="subsection"><a href="following-users#sec:following"><span class="number">12.1.4</span> Following</a></li><li class="subsection"><a href="following-users#sec:followers"><span class="number">12.1.5</span> Followers</a></li></ol></li><li class="section"><a href="following-users#sec:a_web_interface_for_following_and_followers"><span class="number">12.2</span> A web interface for following and followers</a></li><li><ol><li class="subsection"><a href="following-users#sec:sample_following_data"><span class="number">12.2.1</span> Sample following data</a></li><li class="subsection"><a href="following-users#sec:stats_and_a_follow_form"><span class="number">12.2.2</span> Stats and a follow form</a></li><li class="subsection"><a href="following-users#sec:following_and_followers_pages"><span class="number">12.2.3</span> Following and followers pages</a></li><li class="subsection"><a href="following-users#sec:a_working_follow_button_the_standard_way"><span class="number">12.2.4</span> A working follow button the standard way</a></li><li class="subsection"><a href="following-users#sec:a_working_follow_button_with_ajax"><span class="number">12.2.5</span> A working follow button with Ajax</a></li></ol></li><li class="section"><a href="following-users#sec:the_status_feed"><span class="number">12.3</span> The status feed</a></li><li><ol><li class="subsection"><a href="following-users#sec:motivation_and_strategy"><span class="number">12.3.1</span> Motivation and strategy</a></li><li class="subsection"><a href="following-users#sec:a_first_feed_implementation"><span class="number">12.3.2</span> A first feed implementation</a></li><li class="subsection"><a href="following-users#sec:scopes_subselects_and_a_lambda"><span class="number">12.3.3</span> Scopes, subselects, and a lambda</a></li><li class="subsection"><a href="following-users#sec:the_new_status_feed"><span class="number">12.3.4</span> The new status feed</a></li></ol></li><li class="section"><a href="following-users#sec:following_conclusion"><span class="number">12.4</span> Conclusion</a></li><li><ol><li class="subsection"><a href="following-users#sec:extensions_to_the_sample_application"><span class="number">12.4.1</span> Extensions to the sample application</a></li><li><ol><li class="subsubsection"><a href="following-users#sec:replies">Replies</a></li><li class="subsubsection"><a href="following-users#sec:messaging">Messaging</a></li><li class="subsubsection"><a href="following-users#sec:follower_notifications">Follower notifications</a></li><li class="subsubsection"><a href="following-users#sec:password_reminders">Password reminders</a></li><li class="subsubsection"><a href="following-users#sec:signup_confirmation">Signup confirmation</a></li><li class="subsubsection"><a href="following-users#sec:rss_feed">RSS feed</a></li><li class="subsubsection"><a href="following-users#sec:rest_api">REST API</a></li><li class="subsubsection"><a href="following-users#sec:search">Search</a></li></ol></li><li class="subsection"><a href="following-users#sec:guide_to_further_resources"><span class="number">12.4.2</span> Guide to further resources</a></li></ol></li><li class="section"><a href="following-users#sec:following_exercises"><span class="number">12.5</span> Exercises</a></li></ol></li><li class="chapter"><a href="rails-3-1#top"><span class="number">Chapter 13</span> Rails 3.1</a></li><li><ol><li class="section"><a href="rails-3-1#sec:upgrading_the_sample_app"><span class="number">13.1</span> Upgrading the sample app</a></li><li><ol><li class="subsection"><a href="rails-3-1#sec:installing_and_configuring_rails_3_1"><span class="number">13.1.1</span> Installing and configuring Rails&nbsp;3.1</a></li><li class="subsection"><a href="rails-3-1#sec:getting_to_red"><span class="number">13.1.2</span> Getting to Red</a></li><li class="subsection"><a href="rails-3-1#sec:minor_issues"><span class="number">13.1.3</span> Minor issues</a></li><li><ol><li class="subsubsection"><a href="rails-3-1#sec:will_paginate">will_paginate</a></li><li class="subsubsection"><a href="rails-3-1#sec:pagination_spec">Pagination spec</a></li></ol></li><li class="subsection"><a href="rails-3-1#sec:major_differences"><span class="number">13.1.4</span> Major differences</a></li><li><ol><li class="subsubsection"><a href="rails-3-1#sec:asset_directories">Asset directories</a></li><li class="subsubsection"><a href="rails-3-1#sec:prototype_to_jquery">Prototype to jQuery</a></li></ol></li></ol></li><li class="section"><a href="rails-3-1#sec:new_features"><span class="number">13.2</span> New features in Rails 3.1</a></li><li><ol><li class="subsection"><a href="rails-3-1#sec:asset_pipeline"><span class="number">13.2.1</span> Asset pipeline</a></li><li class="subsection"><a href="rails-3-1#sec:reversible_migrations"><span class="number">13.2.2</span> Reversible migrations</a></li><li class="subsection"><a href="rails-3-1#sec:sass_and_coffeescript"><span class="number">13.2.3</span> Sass and CoffeeScript</a></li></ol></li><li class="section"><a href="rails-3-1#sec:rails_3_1_exercises"><span class="number">13.3</span> Exercises</a></li></ol></li></ol></div>


<div id="main_content"></div>


<p> <span class="preamble">
 <span id="foreword">
<strong> Foreword</strong> <br />
 </span>
 </span></p>

<p>My former company (CD Baby) was one of the first to loudly switch to Ruby on Rails, and then even more loudly switch back to PHP (Google me to read about the drama). This book by Michael Hartl came so highly recommended that I had to try it, and <em>Ruby on Rails Tutorial</em> is what I used to switch back to Rails again.</p>

<p>Though I&rsquo;ve worked my way through many Rails books, this is the one that finally made me &ldquo;get&rdquo; it. Everything is done very much &ldquo;the Rails way&rdquo;&mdash;a way that felt very unnatural to me before, but now after doing this book finally feels natural. This is also the only Rails book that does test-driven development the entire time, an approach highly recommended by the experts but which has never been so clearly demonstrated before. Finally, by including Git, GitHub, and Heroku in the demo examples, the author really gives you a feel for what it&rsquo;s like to do a real-world project. The tutorial&rsquo;s code examples are not in isolation.</p>

<p>The linear narrative is such a great format. Personally, I powered through <em>Rails Tutorial</em> in three long days, doing all the examples and challenges at the end of each chapter. Do it from start to finish, without jumping around, and you&rsquo;ll get the ultimate benefit.</p>

<p>Enjoy!</p>

<p><a href="http://sivers.org/">Derek Sivers</a> (<a href="http://sivers.org/">sivers.org</a>) <br />
<em>Formerly: Founder,</em> <a href="http://www.cdbaby.com/"><em>CD Baby</em></a> <br />
<em>Currently: Founder,</em> <a href="http://thoughts.pro/"><em>Thoughts Ltd.</em></a> <br /></p>

<p> <span class="preamble">
<strong> Acknowledgments</strong> <br />
 </span></p>

<p><em>Ruby on Rails Tutorial</em> owes a lot to my previous Rails book, <em>RailsSpace</em>, and hence to my coauthor <a href="http://aure.com/">Aurelius Prochazka</a>. I&rsquo;d like to thank Aure both for the work he did on that book and for his support of this one. I&rsquo;d also like to thank Debra Williams Cauley, my editor on both <em>RailsSpace</em> and <em>Rails Tutorial</em>; as long as she keeps taking me to baseball games, I&rsquo;ll keep writing books for her.</p>

<p>I&rsquo;d like to acknowledge a long list of Rubyists who have taught and inspired me over the years: David Heinemeier Hansson, Yehuda Katz, Carl Lerche, Jeremy Kemper, Xavier Noria, Ryan Bates, Geoffrey Grosenbach, Peter Cooper, Matt Aimonetti, Gregg Pollack, Wayne&nbsp;E. Seguin, Amy Hoy, Dave Chelimsky, Pat Maddox, Tom Preston-Werner, Chris Wanstrath, Chad Fowler, Josh Susser, Obie Fernandez, Ian McFarland, Steven Bristol, Wolfram Arnold, Alex Chaffee, Giles Bowkett, Evan Dorn, Long Nguyen, James Lindenbaum, Adam Wiggins, Tikhon Bernstam, Ron Evans, Wyatt Greene, Miles Forrest, the good people at Pivotal Labs, the Heroku gang, the thoughtbot guys, and the GitHub crew. Finally, many, many readers&mdash;far too many to list&mdash;have contributed a huge number of bug reports and suggestions during the writing of this book, and I gratefully acknowledge their help in making it as good as it can&nbsp;be. <br /></p>

<p> <span class="preamble">
 <span id="author">
<strong> About the author</strong> <br />
 </span>
 </span></p>

<p><a href="http://michaelhartl.com/">Michael Hartl</a> is a programmer, educator, and entrepreneur. Michael was coauthor of <em>RailsSpace</em>, a best-selling Rails tutorial book published in 2007, and was cofounder and lead developer of <a href="http://insoshi.com/">Insoshi</a>, a <a href="http://github.com/popular/forked">popular</a> social networking platform in Ruby on Rails. Previously, he taught theoretical and computational physics at the <a href="http://www.caltech.edu/">California Institute of Technology</a> (Caltech), where he received the Lifetime Achievement Award for Excellence in Teaching. Michael is a graduate of <a href="http://college.harvard.edu/">Harvard College</a>, has a <a href="http://resolver.caltech.edu/CaltechETD:etd-05222003-161626">Ph.D. in Physics</a> from <a href="http://www.caltech.edu/">Caltech</a>, and is an alumnus of the <a href="http://ycombinator.com/">Y&nbsp;Combinator</a> entrepreneur program. <br /></p>

<p> <span id="license" class="preamble">
<strong> Copyright and license</strong> <br />
 </span></p>

<p><em>Ruby on Rails Tutorial: Learn Rails by Example</em>. Copyright &copy; 2010 by Michael Hartl. All source code in <em>Ruby on Rails Tutorial</em> is available under the <a href="http://www.opensource.org/licenses/mit-license.php">MIT License</a> and the <a href="http://en.wikipedia.org/wiki/Beerware">Beerware License</a>.</p>

<pre class="verbatim">   Copyright (c) 2010 Michael Hartl

   Permission is hereby granted, free of charge, to any person
   obtaining a copy of this software and associated documentation
   files (the &quot;Software&quot;), to deal in the Software without
   restriction, including without limitation the rights to use,
   copy, modify, merge, publish, distribute, sublicense, and/or sell
   copies of the Software, and to permit persons to whom the
   Software is furnished to do so, subject to the following
   conditions:

   The above copyright notice and this permission notice shall be
   included in all copies or substantial portions of the Software.

   THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,
   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
   OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
   HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
   WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
   FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
   OTHER DEALINGS IN THE SOFTWARE.</pre>




<pre class="verbatim">/*
 * ------------------------------------------------------------
 * &quot;THE BEERWARE LICENSE&quot; (Revision 42):
 * Michael Hartl wrote this code. As long as you retain this 
 * notice, you can do whatever you want with this stuff. If we
 * meet someday, and you think this stuff is worth it, you can
 * buy me a beer in return.
 * ------------------------------------------------------------
 */</pre>




<div id="top"></div>


<h1 class="chapter"><a id="sec:1" href="/ruby-on-rails-tutorial-book#top" class="heading"><span class="number">Chapter 1</span> From zero to deploy</a></h1>


<p>Welcome to <a href="http://ruby.railstutorial.org/ruby-on-rails-tutorial-book"><em>Ruby on Rails Tutorial: Learn Rails by Example</em></a>. The goal of this book is to be the best answer to the question, &ldquo;If I want to learn web development with <a href="http://rubyonrails.org/">Ruby on Rails</a>, where should I start?&rdquo; By the time you finish <em>Ruby on Rails Tutorial</em>, you will have all the knowledge you need to develop and deploy your own custom web applications. You will also be ready to benefit from the many more advanced books, blogs, and screencasts that are part of the thriving Rails educational ecosystem. Finally, since <em>Ruby on Rails Tutorial</em> uses Rails&nbsp;3, the knowledge you gain here will be fully up-to-date with the latest and greatest version of Rails.<sup class="footnote" id="fnref:1.1"><a href="/ruby-on-rails-tutorial-book#fn:1.1">1</a></sup></p>

<p><em>Ruby on Rails Tutorial</em> follows essentially the same approach as my previous Rails book,<sup class="footnote" id="fnref:1.2"><a href="/ruby-on-rails-tutorial-book#fn:1.2">2</a></sup> teaching web development with Rails by building a substantial sample application from scratch. As <a href="http://sivers.org">Derek Sivers</a> notes in the foreword, this book is structured as a linear narrative, designed to be read from start to finish. If you are used to skipping around in technical books, taking this linear approach might require some adjustment, but I suggest giving it a try. You can think of <em>Ruby on Rails Tutorial</em> as a video game where you are the main character, and where you level up as a Rails developer in each chapter. (The exercises are the <a href="http://en.wikipedia.org/wiki/Boss_(video_gaming)#Miniboss">minibosses</a>.)</p>

<p>In this first chapter, we&rsquo;ll get started with Ruby on Rails by installing all the necessary software and by setting up our development environment (<a class="ref" href="/ruby-on-rails-tutorial-book#sec:up_and_running">Section&nbsp;1.2</a>). We&rsquo;ll then create our first Rails application, called (appropriately enough) <tt>first_app</tt>. <em>Rails Tutorial</em> emphasizes good software development practices, so immediately after creating our fresh new Rails project we&rsquo;ll put it under version control with Git (<a class="ref" href="/ruby-on-rails-tutorial-book#sec:version_control">Section&nbsp;1.3</a>). And, believe it or not, in this chapter we&rsquo;ll even put our first app on the wider web by <em>deploying</em> it to production (<a class="ref" href="/ruby-on-rails-tutorial-book#sec:deploying">Section&nbsp;1.4</a>).</p>

<p>In <a class="ref" href="a-demo-app#top">Chapter&nbsp;2</a>, we&rsquo;ll make a second project, whose purpose will be to demonstrate the basic workings of a Rails application. To get up and running quickly, we&rsquo;ll build this <em>demo app</em> (called <tt>demo_app</tt>) using scaffolding (<a class="ref" href="/ruby-on-rails-tutorial-book#sidebar:scaffolding">Box&nbsp;1.1</a>) to generate code; since this code is both ugly and complex, <a class="ref" href="a-demo-app#top">Chapter&nbsp;2</a> will focus on interacting with the demo app through its <em>URLs</em><sup class="footnote" id="fnref:1.3"><a href="/ruby-on-rails-tutorial-book#fn:1.3">3</a></sup> using a web browser.</p>

<p>In <a class="ref" href="static-pages#top">Chapter&nbsp;3</a>, we&rsquo;ll create a <em>sample application</em> (called <tt>sample_app</tt>), this time writing all the code from scratch. We&rsquo;ll develop the sample app using <em>test-driven development</em> (TDD), getting started in <a class="ref" href="static-pages#top">Chapter&nbsp;3</a> by creating static pages and then adding a little dynamic content. We&rsquo;ll take a quick detour in <a class="ref" href="rails-flavored-ruby#top">Chapter&nbsp;4</a> to learn a little about the Ruby language underlying Rails. Then, in <a class="ref" href="filling-in-the-layout#top">Chapter&nbsp;5</a> through <a class="ref" href="updating-showing-and-deleting-users#top">Chapter&nbsp;10</a>, we&rsquo;ll complete the foundation for the sample application by making a site layout, a user data model, and a full registration and authentication system. Finally, in <a class="ref" href="user-microposts#top">Chapter&nbsp;11</a> and <a class="ref" href="following-users#top">Chapter&nbsp;12</a> we&rsquo;ll add microblogging and social features to make a working example site.</p>

<p>The final sample application will bear more than a passing resemblance to a certain popular <a href="http://twitter.com/">social microblogging site</a>&mdash;a site which, coincidentally, was also originally written in Rails.<sup class="footnote" id="fnref:1.4"><a href="/ruby-on-rails-tutorial-book#fn:1.4">4</a></sup> Though of necessity our efforts will focus on this specific sample application, the emphasis throughout <em>Rails Tutorial</em> will be on general principles, so that you will have a solid foundation no matter what kinds of web applications you want to build.</p>

<div class="label" id="sidebar:scaffolding"></div>


<div class="sidebar"><span class="title"><span class="header">Box 1.1.</span><span class="description">Scaffolding: Quicker, easier, more seductive</span></span>
<p>From the beginning, Rails has benefited from a palpable sense of excitement, starting with the famous <a href="http://media.rubyonrails.org/video/rails_take2_with_sound.mov">15-minute weblog video</a> by Rails creator David Heinemeier Hansson, now updated as the <a href="http://media.rubyonrails.org/video/rails_blog_2.mov">15-minute weblog using Rails&nbsp;2</a> by Ryan Bates. These videos are a great way to get a taste of Rails&rsquo; power, and I recommend watching them. But be warned: they accomplish their amazing fifteen-minute feat using a feature called <em>scaffolding</em>, which relies heavily on <em>generated code</em>, magically created by the Rails <code>generate</code> command.</p>

<p>When writing a Ruby on Rails tutorial, it is tempting to rely on the scaffolding approach&mdash;it&rsquo;s <a href="http://en.wikipedia.org/wiki/Dark_side_(Star_Wars)">quicker, easier, more seductive</a>. But the complexity and sheer amount of code in the scaffolding can be utterly overwhelming to a beginning Rails developer; you may be able to use it, but you probably won&rsquo;t understand it. Following the scaffolding approach risks turning you into a virtuoso script generator with little (and brittle) actual knowledge of Rails.</p>

<p>In <em>Ruby on Rails Tutorial</em>, we&rsquo;ll take the (nearly) polar opposite approach: although <a class="ref" href="a-demo-app#top">Chapter&nbsp;2</a> will develop a small demo app using scaffolding, the core of <em>Rails Tutorial</em> is the sample app, which we&rsquo;ll start writing in <a class="ref" href="static-pages#top">Chapter&nbsp;3</a>. At each stage of developing the sample application, we will generate <em>small, bite-sized</em> pieces of code&mdash;simple enough to understand, yet novel enough to be challenging. The cumulative effect will be a deeper, more flexible knowledge of Rails, giving you a good background for writing nearly any type of web application.</p>
</div>




<div class="label" id="sec:introduction"></div>


<h2><a id="sec:1.1" href="/ruby-on-rails-tutorial-book#sec:introduction" class="heading"><span class="number">1.1</span> Introduction</a></h2>


<p>Since its debut in 2004, Ruby on Rails has rapidly become one of the most powerful and popular frameworks for building dynamic web applications. Rails users run the gamut from scrappy startups to huge companies: <a href="http://posterous.com/">Posterous</a>, <a href="http://uservoice.com/">UserVoice</a>, <a href="http://37signals.com/">37signals</a>, <a href="http://shopify.com/">Shopify</a>, <a href="http://github.com/">GitHub</a>, <a href="http://scribd.com/">Scribd</a>, <a href="http://hulu.com/">Hulu</a>, the <a href="http://yellowpages.com/">Yellow Pages</a>&mdash;the <a href="http://rubyonrails.org/applications">list of sites using Rails</a> goes on and on. There are also many web development shops that specialize in Rails, such as <a href="http://entp.com/">ENTP</a>, <a href="http://thoughtbot.com/">thoughtbot</a>, <a href="http://pivotallabs.com/">Pivotal Labs</a>, and <a href="http://hashrocket.com/">Hashrocket</a>, plus innumerable independent consultants, trainers, and contractors.</p>

<p>What makes Rails so great? First of all, Ruby on Rails is 100% open-source, available under the permissive <a href="http://www.opensource.org/licenses/mit-license.php">MIT License</a>, and as a result it also costs nothing to download and use. Rails also owes much of its success to its elegant and compact design; by exploiting the malleability of the underlying <a href="http://ruby-lang.org/">Ruby</a> language, Rails effectively creates a <a href="http://en.wikipedia.org/wiki/Domain_Specific_Language">domain-specific language</a> for writing web applications. As a result, many common web programming tasks&mdash;such as generating HTML, making data models, and routing URLs&mdash;are easy with Rails, and the resulting application code is concise and readable.</p>

<p>Rails also adapts rapidly to new developments in web technology and framework design. For example, Rails was one of the first frameworks to fully digest and implement the REST architectural style for structuring web applications (which we&rsquo;ll be learning about throughout this tutorial). And when other frameworks develop successful new techniques, Rails creator <a href="http://loudthinking.com/">David Heinemeier Hansson</a> and the <a href="http://rubyonrails.org/core">Rails core team</a> don&rsquo;t hesitate to incorporate their ideas. Perhaps the most dramatic example is the merger of Rails and Merb, a rival Ruby web framework, so that Rails now benefits from Merb&rsquo;s modular design, stable <a href="http://en.wikipedia.org/wiki/Application_programming_interface">API</a>, and improved performance. (Anyone who has attended a talk by Merb developer and Rails core team member <a href="http://yehudakatz.com/">Yehuda Katz</a> can&rsquo;t help but notice what an <em>extremely</em> good idea it was to bring the Merb team on board.)</p>

<p>Finally, Rails benefits from an unusually enthusiastic and diverse community. The results include hundreds of open-source <a href="http://contributors.rubyonrails.org/">contributors</a>, well-attended <a href="http://railsconf.com/">conferences</a>, a huge number of <a href="http://agilewebdevelopment.com/plugins">plugins</a> and <a href="http://rubygems.org/">gems</a> (self-contained solutions to specific problems such as pagination and image upload), a rich variety of informative blogs, and a cornucopia of discussion forums and IRC channels. The large number of Rails programmers also makes it easier to handle the inevitable application errors: the &ldquo;Google the error message&rdquo; algorithm nearly always produces a relevant blog post or discussion-forum thread.</p>

<div class="label" id="sec:comments_for_various_readers"></div>


<h3><a id="sec:1.1.1" href="/ruby-on-rails-tutorial-book#sec:comments_for_various_readers" class="heading"><span class="number">1.1.1</span> Comments for various readers</a></h3>


<p><em>Rails Tutorial</em> contains integrated tutorials not only for Rails, but also for the underlying Ruby language, as well as for <a href="http://en.wikipedia.org/wiki/HTML">HTML</a>, <a href="http://en.wikipedia.org/wiki/CSS">CSS</a>, some <a href="http://en.wikipedia.org/wiki/JavaScript">JavaScript</a>, and even a little <a href="http://en.wikipedia.org/wiki/SQL">SQL</a>. This means that, no matter where you currently are in your knowledge of web development, by the time you finish this tutorial you will be ready for more advanced Rails resources, as well as for the more systematic treatments of the other subjects mentioned.</p>

<p>Rails derives much of its power from &ldquo;magic&rdquo;&mdash;that is, framework features (such as automatically inferring object attributes from database columns) that accomplish miracles but whose mechanisms can be rather mysterious. <em>Ruby on Rails Tutorial</em> is <em>not</em> designed to explain this magic&mdash;mainly because most Rails application developers never need to know what&rsquo;s behind the curtain. (After all, Ruby itself is mostly written in the C programming language, but you don&rsquo;t have to dig into the C source to use Ruby.) If you&rsquo;re a confirmed pull-back-the-curtain kind of person, I recommend <a href="http://www.amazon.com/gp/product/0321601661?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0321601661"><em>The Rails&nbsp;3 Way</em></a> by Obie Fernandez as a companion volume to <em>Ruby on Rails Tutorial</em>.</p>

<p>Although this book has no formal prerequisites, you should of course have at least <em>some</em> computer experience. If you&rsquo;ve never even used a text editor before, it will be tough going, but with enough determination you can probably soldier through. If, on the other hand, your <code>.emacs</code> file is so complex it could make a grown man cry, there is still plenty of material to keep you challenged. <em>Rails Tutorial</em> is designed to teach Rails development no matter what your background is, but your path and reading experience will depend on your particular circumstances. <br /></p>

<p><strong>All readers:</strong> One common question when learning Rails is whether to learn Ruby first. The answer depends on your personal learning style. If you prefer to learn everything systematically from the ground up, then learning Ruby first might work well for you, and there are several book recommendations in this section to get you started. On the other hand, many beginning Rails developers are excited about making <em>web</em> applications, and would rather not slog through a 500-page book on pure Ruby before ever writing a single web page. Moreover, the subset of Ruby needed by Rails developers is different from what you&rsquo;ll find in a pure-Ruby introduction, whereas <em>Rails Tutorial</em> focuses on exactly that subset. If your primary interest is making web applications, I recommend starting with <em>Rails Tutorial</em> and then reading a book on pure Ruby next. It&rsquo;s not an all-or-nothing proposition, though: if you start reading <em>Rails Tutorial</em> and feel your (lack of) Ruby knowledge holding you back, feel free to switch to a Ruby book and come back when you feel ready. You might also consider getting a taste of Ruby by following a short online tutorial, such as can be found at <a href="http://www.ruby-lang.org/">http://www.ruby-lang.org/</a> or <a href="http://rubylearning.com/">http://rubylearning.com/</a>.</p>

<p>Another common question is whether to use tests from the start. As noted in the introduction, <em>Rails Tutorial</em> uses test-driven development (also called test-first development), which in my view is the best way to develop Rails applications, but it does introduce a substantial amount of overhead and complexity. If you find yourself getting bogged down by the tests, feel free to skip them on first reading.<sup class="footnote" id="fnref:1.5"><a href="/ruby-on-rails-tutorial-book#fn:1.5">5</a></sup> Indeed, some readers may find the inclusion of so many moving parts&mdash;such as tests, version control, and deployment&mdash;a bit overwhelming at first, and if you find yourself expending excessive energy on any of these steps, <em>don&rsquo;t hesitate to skip them</em>. Although I have included only material I consider essential to developing professional-grade Rails applications, only the core application code is strictly necessary the first time through. <br /></p>

<p><strong>Inexperienced programmers (non-designers):</strong> <em>Rails Tutorial</em> doesn&rsquo;t assume any background other than general computer knowledge, so if you have limited programming experience this book is a good place to start. Please bear in mind that it is only the first step on a long journey; web development has many moving parts, including HTML/CSS, JavaScript, databases (including SQL), version control, and deployment. This book contains short introductions to these subjects, but there is much more to learn. <br /></p>

<p><strong>Inexperienced programmers (designers):</strong> Your design skills give you a big leg up, since you probably already know HTML and CSS. After finishing this book you will be in an excellent position to work with existing Rails projects and possibly start some of your own. You may find the programming material challenging, but the Ruby language is unusually friendly to beginners, especially those with an artistic bent.<br /></p>

<p>After finishing <em>Ruby on Rails Tutorial</em>, I recommend that newer programmers read <a href="http://www.amazon.com/gp/product/1430223634?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1430223634"><em>Beginning Ruby</em></a> by Peter Cooper, which shares the same basic instructional philosophy as <em>Rails Tutorial</em>. I also recommend <a href="http://www.amazon.com/gp/product/B000P28V8Q?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B000P28V8Q"><em>The Ruby Way</em></a> by Hal Fulton. Finally, to gain a deeper understanding of Rails I recommend <a href="http://www.amazon.com/gp/product/0321601661?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0321601661"><em>The Rails&nbsp;3 Way</em></a> by Obie Fernandez.</p>

<p>Web applications, even relatively simple ones, are by their nature fairly complex. If you are completely new to web programming and find <em>Rails Tutorial</em> overwhelming, it could be that you&rsquo;re not quite ready to make web applications yet.  In that case, I&rsquo;d suggest learning the basics of HTML and CSS and then giving <em>Rails Tutorial</em> another go. (Unfortunately, I don&rsquo;t have a personal recommendation here, but <a href="http://headfirstlabs.com/books/hfhtml/"><em>Head First HTML</em></a> looks promising, and one reader recommends <a href="http://www.amazon.com/gp/product/0596526873?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0596526873"><em>CSS: The Missing Manual</em></a> by David Sawyer McFarland.) You might also consider reading the first few chapters of <a href="http://www.amazon.com/gp/product/1430223634?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1430223634"><em>Beginning Ruby</em></a>, which starts with sample applications much smaller than a full-blown web app. <br /></p>

<p><strong>Experienced programmers new to web development:</strong> Your previous experience means you probably already understand ideas like classes, methods, data structures, etc., which is a big advantage. Be warned that if your background is in C/C++ or Java, you may find Ruby a bit of an odd duck, and it might take time to get used to it; just stick with it and eventually you&rsquo;ll be fine. (Ruby even lets you put semicolons at the ends of lines if you miss them too much.) <em>Rails Tutorial</em> covers all the web-specific ideas you&rsquo;ll need, so don&rsquo;t worry if you don&rsquo;t currently know a <tt>PUT</tt> from a <tt>POST</tt>.<br /></p>

<p><strong>Experienced web developers new to Rails:</strong> You have a great head start, especially if you have used a dynamic language such as PHP or (even better) Python. The basics of what we cover will likely be familiar, but test-driven development may be new to you, as may be the structured REST style favored by Rails. Ruby has its own idiosyncrasies, so those will likely be new, too.<br /></p>

<p><strong>Experienced Ruby programmers:</strong> The set of Ruby programmers who don&rsquo;t know Rails is a small one nowadays, but if you are a member of this elite group you can fly through this book and then move on to <a href="http://www.amazon.com/gp/product/0321601661?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0321601661"><em>The Rails&nbsp;3 Way</em></a> by Obie Fernandez. <br /></p>

<p><strong>Inexperienced Rails programmers:</strong> You&rsquo;ve perhaps read some other tutorials and made a few small Rails apps yourself. Based on reader feedback, I&rsquo;m confident that you can still get a lot out of this book. Among other things, the techniques here may be more up-to-date than the ones you picked up when you originally learned Rails. <br /></p>

<p><strong>Experienced Rails programmers:</strong> This book is unnecessary for you, but many experienced Rails developers have expressed surprise at how much they learned from this book, and you might enjoy seeing Rails from a different perspective. <br /></p>

<p>After finishing <em>Ruby on Rails Tutorial</em>, I recommend that experienced (non-Ruby) programmers read <a href="http://www.amazon.com/gp/product/1933988657?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1933988657"><em>The Well-Grounded Rubyist</em></a> by David&nbsp;A. Black, which is an excellent in-depth discussion of Ruby from the ground up, or <a href="http://www.amazon.com/gp/product/B000P28V8Q?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B000P28V8Q"><em>The Ruby Way</em></a> by Hal Fulton, which is also fairly advanced but takes a more topical approach. Then move on to <a href="http://www.amazon.com/gp/product/0321601661?ie=UTF8&amp;tag=httpwwwrailst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0321601661"><em>The Rails&nbsp;3 Way</em></a> to deepen your Rails expertise.<br /></p>

<p>At the end of this process, no matter where you started, you will be ready for the more intermediate-to-advanced Rails resources. Here are some I particularly recommend:</p>

<ul>

<li><a href="http://railscasts.com/">Railscasts</a>: Excellent free Rails screencasts</li>
<li><a href="http://peepcode.com/">PeepCode</a>, <a href="http://pragmatic.tv/">Pragmatic.tv</a>, <a href="http://envycasts.com/">EnvyCasts</a>: Excellent commercial screencasters</li>
<li><a href="http://guides.rubyonrails.org/">Rails Guides</a>: Good topical and up-to-date Rails references. <em>Rails Tutorial</em> refers frequently to the <em>Rails Guides</em> for more in-depth treatment of specific topics.</li>
<li><a href="http://www.google.com/search?q=ruby+on+rails+blogs">Rails blogs</a>: Too many to list, but there are tons of good ones. </li>

</ul>




<h3><a id="sec:1.1.2" href="/ruby-on-rails-tutorial-book#sec:1.1.2" class="heading"><span class="number">1.1.2</span> &ldquo;Scaling&rdquo; Rails</a></h3>


<p>Before moving on with the rest of the introduction, I&rsquo;d like to take a moment to address the one issue that dogged the Rails framework the most in its early days: the supposed inability of Rails to &ldquo;scale&rdquo;&mdash;i.e., to handle large amounts of traffic. Part of this issue relied on a misconception; <a href="http://idleprocess.wordpress.com/2009/11/24/presentation-summary-high-performance-at-massive-scale-lessons-learned-at-facebook/">you scale a <em>site</em>, not a framework</a>, and Rails, as awesome as it is, is only a framework. So the real question should have been, &ldquo;Can a site built with Rails scale?&rdquo; In any case, the question has now been definitively answered in the affirmative: some of the most heavily trafficked sites in the world use Rails. Actually <em>doing</em> the scaling is beyond the scope of just Rails, but rest assured that if <em>your</em> application ever needs to handle the load of Hulu or the Yellow Pages, Rails won&rsquo;t stop you from taking over the world.</p>

<div class="label" id="sec:conventions"></div>


<h3><a id="sec:1.1.3" href="/ruby-on-rails-tutorial-book#sec:conventions" class="heading"><span class="number">1.1.3</span> Conventions in this book</a></h3>


<p>The conventions in this book are mostly self-explanatory; in this section, I&rsquo;ll mention some that may not be.</p>

<p>Both the <a href="http://railstutorial.org/book">HTML</a> and <a href="http://railstutorial.org/">PDF</a> editions of this book are full of links, both to internal sections (such as <a class="ref" href="/ruby-on-rails-tutorial-book#sec:up_and_running">Section&nbsp;1.2</a>) and to external sites (such as the main <a href="http://rubyonrails.org/download">Ruby on Rails download</a> page).<sup class="footnote" id="fnref:1.6"><a href="/ruby-on-rails-tutorial-book#fn:1.6">6</a></sup></p>

<p>Many examples in this book use command-line commands. For simplicity, all command line examples use a Unix-style command line prompt (a dollar sign), as follows:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> <span class="nb">echo</span> <span class="s2">&quot;hello, world&quot;</span>
<span class="go">hello, world</span>
</pre></div>
</div>


<p>Windows users should understand that their systems will use the analogous angle prompt&nbsp;<tt>&gt;</tt>:</p>

<div class="code"><div class="highlight"><pre><span class="go">C:\Sites&gt;echo hello, world</span>
<span class="go">hello, world</span>
</pre></div>
</div>


<p>On Unix systems, some commands should be executed with <code>sudo</code>, which stands for &ldquo;substitute user do&rdquo;. By default, a command executed with <code>sudo</code> is run as an administrative user, which has access to files and directories that normal users can&rsquo;t touch. To indicate that the use of <code>sudo</code> is system-dependent, it will appear in square brackets when it may (or may not) be necessary on your particular system, such as in this example from <a class="ref" href="/ruby-on-rails-tutorial-book#sec:rubygems">Section&nbsp;1.2.2</a>:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> <span class="o">[</span>sudo<span class="o">]</span> ruby setup.rb
</pre></div>
</div>


<p>Most Unix/Linux/OS&nbsp;X systems require <code>sudo</code> by default, unless you are using Ruby Version Manager as suggested in <a class="ref" href="/ruby-on-rails-tutorial-book#sec:install_ruby">Section&nbsp;1.2.2.3</a>. Note that you should <em>not</em> actually type any brackets; you should run either</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> sudo ruby setup.rb
</pre></div>
</div>


<p>or</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> ruby setup.rb
</pre></div>
</div>


<p>depending on your system.</p>

<p>Rails comes with lots of commands that can be run at the command line. For example, in <a class="ref" href="/ruby-on-rails-tutorial-book#sec:rails_server">Section&nbsp;1.2.5</a> we&rsquo;ll run a local development web server as follows:</p>

<div class="code"><div class="highlight"><pre><span class="nv">$ </span>rails server
</pre></div>
</div>


<p>As with the command-line prompt, <em>Rails Tutorial</em> uses the Unix convention for directory separators (i.e., a forward slash&nbsp;<tt>/</tt>). My Rails Tutorial sample application, for instance, lives in</p>

<pre class="verbatim">/Users/mhartl/rails_projects/sample_app</pre>


<p>On Windows, the analogous directory would be</p>

<pre class="verbatim">C:\Sites\sample_app</pre>


<p>The root directory for any given app is known as the <em>Rails root</em>, and henceforth all directories will be relative to this directory. (Note in particular that the &ldquo;Rails root&rdquo; is <em>not</em> the root directory for Rails itself.) For example, the <code>config</code> directory of my sample application is</p>

<pre class="verbatim">/Users/mhartl/rails_projects/sample_app/config</pre>


<p>The Rails root here is everything before <code>config</code>, i.e.,</p>

<pre class="verbatim">/Users/mhartl/rails_projects/sample_app</pre>


<p>For brevity, when referring to the file</p>

<pre class="verbatim">/Users/mhartl/rails_projects/sample_app/config/routes.rb</pre>


<p>I&rsquo;ll omit the Rails root and simply write <code>config/routes.rb</code>.</p>

<p>Finally, <em>Rails Tutorial</em> often shows output from various programs (shell commands, version control status, Ruby programs, etc.). Because of the innumerable small differences between different computer systems, the output you see may not always agree exactly with what is shown in the text,
but this is not cause for concern. In addition, some commands may produce errors depending on your system; rather than attempt the <a href="http://en.wikipedia.org/wiki/Sisyphus">Sisyphean</a> task of documenting all such errors in this tutorial, I will delegate to the &ldquo;Google the error message&rdquo; algorithm, which among other things is good practice for real-life software development.</p>

<div class="label" id="sec:up_and_running"></div>


<h2><a id="sec:1.2" href="/ruby-on-rails-tutorial-book#sec:up_and_running" class="heading"><span class="number">1.2</span> Up and running</a></h2>


<p>It&rsquo;s time now to get going with a Ruby on Rails development environment and our first application. There is quite a bit of overhead here, especially if you don&rsquo;t have extensive programming experience, so don&rsquo;t get discouraged if it takes a while to get started. It&rsquo;s not just you; every developer goes through it (often more than once), but rest assured that the effort will be richly rewarded.</p>

<div class="label" id="sec:development_tools"></div>


<h3><a id="sec:1.2.1" href="/ruby-on-rails-tutorial-book#sec:development_tools" class="heading"><span class="number">1.2.1</span> Development environments</a></h3>


<p>Considering various idiosyncratic customizations, there are probably as many development environments as there are Rails programmers, but there are at least two broad themes: text editor/command line environments, and integrated development environments (IDEs). Let&rsquo;s consider the latter first.</p>

<h4><a id="sec:1.2.1.1" href="/ruby-on-rails-tutorial-book#sec:1.2.1.1" class="heading">IDEs</a></h4>


<p>There is no shortage of Rails IDEs, including <a href="http://www.aptana.com/rails/">RadRails</a>, <a href="http://www.jetbrains.com/ruby/index.html">RubyMine</a>, and <a href="http://www.codegear.com/products/3rdrail">3rd Rail</a>. All are cross-platform, and I&rsquo;ve heard good things about several of them. I encourage you to try them and see if they work for you, but I have a confession to make: I have never found an IDE that met all my Rails development needs&mdash;and for some projects I haven&rsquo;t even been able to get them to work at all.</p>

<h4><a id="sec:1.2.1.2" href="/ruby-on-rails-tutorial-book#sec:1.2.1.2" class="heading">Text editors and command lines</a></h4>


<p>What are we to use to develop Rails apps, if not some awesome all-in-one IDE? I&rsquo;d guess the majority of Rails developers opt for the same solution I&rsquo;ve chosen: use a <em>text editor</em> to edit text, and a <em>command line</em> to issue commands (<a class="ref" href="/ruby-on-rails-tutorial-book#fig:editor_shell">Figure&nbsp;1.1</a>). Which combination you use depends on your tastes and your platform:</p>

<ul>
<li><strong>Macintosh OS X:</strong> Like many Rails developers, I prefer <a href="http://macromates.com/">TextMate</a>. Other options include Emacs and  <a href="http://code.google.com/p/macvim/">MacVim</a> (launched with the command <code>mvim</code>), the excellent Macintosh version of Vim.<sup class="footnote" id="fnref:1.7"><a href="/ruby-on-rails-tutorial-book#fn:1.7">7</a></sup> I use <a href="http://iterm.sourceforge.net/">iTerm</a> for my command line terminal; others prefer the native Terminal app.</li>

<li><strong>Linux:</strong> Your editor options are basically the same as OS&nbsp;X, minus TextMate. I&rsquo;d recommend graphical Vim (gVim), <a href="http://projects.gnome.org/gedit/">gedit</a> (with the <a href="http://blog.siverti.com.br/gmate/">GMate</a> plugins), or <a href="http://kate-editor.org/">Kate</a>. As far as command lines go, you&rsquo;re totally set: every Linux distribution comes with at least one command line terminal application (and often several).</li>

<li><strong>Windows:</strong> Some promising editors on Windows include <a href="http://www.vim.org/download.php#pc">Vim</a>, the <a href="http://www.e-texteditor.com/">E&nbsp;Text Editor</a>, <a href="http://www.activestate.com/komodo_edit/">Komodo Edit</a>, and <a href="http://www.sublimetext.com/">Sublime Text</a>. For a command line, I recommend using the command prompt that comes with <a href="http://railsinstaller.org/">Rails Installer</a> (<a class="ref" href="/ruby-on-rails-tutorial-book#sec:rails_installer_windows">Section&nbsp;1.2.2.1</a>).  </li>

</ul>


<p>If you go with some flavor of Vim, be sure to tap into the thriving community of <a href="http://www.google.com/search?q=vim+rails">Vim-using Rails hackers</a>. See especially the <a href="http://www.vim.org/scripts/script.php?script_id=1567">rails.vim</a> enhancements and the <a href="http://www.vim.org/scripts/script.php?script_id=1658">NERD tree</a> project drawer.</p>

<div class="label" id="fig:editor_shell"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/editor_shell.png" alt="editor_shell" /></span></div><div class="caption"><span class="header">Figure 1.1: </span><span class="description">A text editor/command line development environment (TextMate/iTerm).  <a href="http://railstutorial.org/images/figures/editor_shell-full.png">(full size)</a></span></div></div>




<h4><a id="sec:1.2.1.3" href="/ruby-on-rails-tutorial-book#sec:1.2.1.3" class="heading">Browsers</a></h4>


<p>Although there are many web browsers to choose from, the vast majority of Rails programmers use Firefox, Safari, or Chrome when developing. The screenshots in Rails Tutorial will generally be of a Firefox browser. If you use Firefox, I suggest using the <a href="http://getfirebug.com/">Firebug</a> add-on, which lets you perform all sorts of magic, such as dynamically inspecting (and even editing) the HTML structure and CSS rules on any page. For those not using Firefox, <a href="http://getfirebug.com/firebuglite">Firebug Lite</a> works with most other browsers, and both Safari and Chrome have a built-in &ldquo;Inspect element&rdquo; feature available by right-clicking on any part of the page.</p>

<h4><a id="sec:1.2.1.4" href="/ruby-on-rails-tutorial-book#sec:1.2.1.4" class="heading">A note about tools</a></h4>


<p>In the process of getting your development environment up and running, you may find that you spend a <em>lot</em> of time getting everything just right. The learning process for editors and IDEs is particularly long; you can spend weeks on TextMate or Vim tutorials alone. If you&rsquo;re new to this game, I want to assure you that <em>spending time learning tools is normal</em>. Everyone goes through it. Sometimes it is frustrating, and it&rsquo;s easy to get impatient when you have an awesome web app in your head and you <em>just want to learn Rails already</em>, but have to spend a week learning some weird ancient Unix editor just to get started. But a craftsman has to know his tools; in the end the reward is worth the effort.</p>

<div class="label" id="sec:rubygems"></div>


<h3><a id="sec:1.2.2" href="/ruby-on-rails-tutorial-book#sec:rubygems" class="heading"><span class="number">1.2.2</span> Ruby, RubyGems, Rails, and Git</a></h3>


<p>Now it&rsquo;s time to install Ruby and Rails. The canonical up-to-date source for this step is the <a href="http://rubyonrails.org/download">Ruby on Rails download page</a>. I&rsquo;ll assume you can go there now; parts of this book can be read profitably offline, but not this part. I&rsquo;ll just inject some of my own comments on the steps.</p>

<div class="label" id="sec:rails_installer_windows"></div>


<h4><a id="sec:1.2.2.1" href="/ruby-on-rails-tutorial-book#sec:rails_installer_windows" class="heading">Rails Installer (Windows)</a></h4>


<p>Installing Rails on Windows used to be a real pain, but thanks to the efforts of the good people at <a href="http://engineyard.com/">Engine Yard</a>&mdash;especially Dr.&nbsp;Nic Williams and Wayne&nbsp;E. Seguin&mdash;installing Rails and related software on Windows is now incredibly easy. If you are using Windows, go to <a href="http://railsinstaller.org/">Rails Installer</a> (<a href="http://railsinstaller.org/">http://railsinstaller.org/</a>) and download the Rails Installer executable. Double-click the executable and follow the instructions to install Git (so you can skip <a class="ref" href="/ruby-on-rails-tutorial-book#sec:install_git">Section&nbsp;1.2.2.2</a>), Ruby (skip <a class="ref" href="/ruby-on-rails-tutorial-book#sec:install_ruby">Section&nbsp;1.2.2.3</a>), RubyGems (skip <a class="ref" href="/ruby-on-rails-tutorial-book#sec:install_rubygems">Section&nbsp;1.2.2.4</a>), and Rails itself (skip <a class="ref" href="/ruby-on-rails-tutorial-book#sec:install_rails">Section&nbsp;1.2.2.5</a>). Once the installation has finished, you can skip right to the creation of the first application in <a class="ref" href="/ruby-on-rails-tutorial-book#sec:the_first_application">Section&nbsp;1.2.3</a>.</p>

<div class="label" id="sec:install_git"></div>


<h4><a id="sec:1.2.2.2" href="/ruby-on-rails-tutorial-book#sec:install_git" class="heading">Install Git</a></h4>


<p>Much of the Rails ecosystem depends in one way or another on a <a href="http://en.wikipedia.org/wiki/Revision_control">version control system</a> called <a href="http://git-scm.com/">Git</a> (covered in more detail in <a class="ref" href="/ruby-on-rails-tutorial-book#sec:version_control">Section&nbsp;1.3</a>). Because its use is ubiquitous, you should install Git even at this early stage; I suggest following the installation instructions for your platform at the <a href="http://progit.org/book/ch1-4.html">Installing Git section of <em>Pro Git</em></a>.</p>

<div class="label" id="sec:install_ruby"></div>


<h4><a id="sec:1.2.2.3" href="/ruby-on-rails-tutorial-book#sec:install_ruby" class="heading">Install Ruby</a></h4>


<p>The next step is to install Ruby. It&rsquo;s possible that your system already has it; try running</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> ruby -v
<span class="go">ruby 1.9.2</span>
</pre></div>
</div>


<p>to see the version number. Rails&nbsp;3 requires Ruby&nbsp;1.8.7 or later and works best with Ruby&nbsp;1.9.2. This tutorial assumes that you are using the latest development version of Ruby&nbsp;1.9.2, known as Ruby&nbsp;1.9.2-head, but Ruby&nbsp;1.8.7 should work as well.</p>

<p>The Ruby&nbsp;1.9 branch is under heavy development, so unfortunately installing the latest Ruby can be quite a challenge. You will likely have to rely on the web for the most up-to-date instructions. What follows is a series of steps that I&rsquo;ve gotten to work on my system (Macintosh OS&nbsp;X), but you may have to search around for steps that work on your system.</p>

<p>As part of installing Ruby, if you are using OS&nbsp;X or Linux I strongly recommend installing Ruby using <a href="http://rvm.beginrescueend.com/">Ruby Version Manager (RVM)</a>, which allows you to install and manage multiple versions of Ruby on the same machine. (The <a href="http://github.com/vertiginous/pik">Pik</a> project accomplishes a similar feat on Windows.) This is particularly important if you want to run Rails&nbsp;3 and Rails&nbsp;2.3 on the same machine. If you want to go this route, I suggest using RVM to install two Ruby/Rails combinations: Ruby&nbsp;1.8.7/Rails&nbsp;2.3 and Ruby&nbsp;1.9.2/Rails&nbsp;3. If you run into any problems with RVM, you can often find its creator, Wayne&nbsp;E. Seguin, on the RVM IRC channel (<a href="http://webchat.freenode.net/?channels=rvm">#rvm on freenode.net</a>).<sup class="footnote" id="fnref:1.8"><a href="/ruby-on-rails-tutorial-book#fn:1.8">8</a></sup></p>

<p>After <a href="http://rvm.beginrescueend.com/rvm/install/">installing RVM</a>, you can install Ruby as follows:<sup class="footnote" id="fnref:1.9"><a href="/ruby-on-rails-tutorial-book#fn:1.9">9</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rvm get head
<span class="gp">$</span> rvm reload
<span class="gp">$</span> rvm install 1.8.7
<span class="gp">$</span> rvm install 1.9.2
<span class="go">&lt;wait a while&gt;</span>
</pre></div>
</div>


<p>Here the first two commands update and reload RVM itself, which is a good practice since RVM gets updated frequently. The final two commands do the actual Ruby installations; depending on your system, they might take a while to download and compile, so don&rsquo;t worry if it seems to be taking forever. (Also beware that lots of little things can go wrong. For example, on my system the latest version of Ruby&nbsp;1.8.7 won&rsquo;t compile; instead, after much searching and hand-wringing, I discovered that I needed &ldquo;patchlevel&rdquo; number 302:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rvm install 1.8.7-p302
</pre></div>
</div>


<p>When things like this happen to you, it&rsquo;s always frustrating, but at least you know that it happens to everyone&hellip;)</p>

<p>Ruby programs are typically distributed via <em>gems</em>, which are self-contained packages of Ruby code. Since gems with different version numbers sometimes conflict, it is often convenient to create separate <em>gemsets</em>, which are self-contained bundles of gems. In particular, Rails is distributed as a gem, and there are conflicts between Rails&nbsp;2 and Rails&nbsp;3, so if you want to run multiple versions of Rails on the same system you need to create a separate gemset for each:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rvm --create 1.8.7-p302@rails2tutorial
<span class="gp">$</span> rvm --create use 1.9.2@rails3tutorial
</pre></div>
</div>


<p>Here the first command creates the gemset <code>rails2tutorial</code> associated with Ruby&nbsp;1.8.7-p302, while the second command creates the gemset <code>rails3tutorial</code> associated with Ruby&nbsp;1.9.2 and uses it (via the <code>use</code> command) at the same time. RVM supports a large variety of commands for manipulating gemsets; see the documentation at <a href="http://rvm.beginrescueend.com/gemsets/">http://rvm.beginrescueend.com/gemsets/</a>.</p>

<p>In this tutorial, we want our system to use Ruby&nbsp;1.9.2 and Rails&nbsp;3 by default, which we can arrange as follows:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rvm --default use 1.9.2@rails3tutorial
</pre></div>
</div>


<p>This simultaneously sets the default Ruby to 1.9.2 and the default gemset to <code>rails3tutorial</code>.</p>

<p>By the way, if you ever get stuck with RVM, running commands like these should help you get your bearings:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rvm --help
<span class="gp">$</span> rvm gemset --help
</pre></div>
</div>


<div class="label" id="sec:install_rubygems"></div>


<h4><a id="sec:1.2.2.4" href="/ruby-on-rails-tutorial-book#sec:install_rubygems" class="heading">Install RubyGems</a></h4>


<p>RubyGems is a package manager for Ruby projects, and there are tons of great libraries (including Rails) available as Ruby packages, or <em>gems</em>. Installing RubyGems should be easy once you install Ruby. In fact, if you have <a href="http://rvm.beginrescueend.com/rvm/install/">installed RVM</a>, you already have RubyGems, since RVM includes it automatically:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> which gem
<span class="go">/Users/mhartl/.rvm/rubies/ruby-head/bin/gem</span>
</pre></div>
</div>


<p>If you don&rsquo;t already have it, you should <a href="http://rubyforge.org/frs/?group_id=126">download RubyGems</a>, extract it, and then go to the <code>rubygems</code> directory and run the setup program:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> <span class="o">[</span>sudo<span class="o">]</span> ruby setup.rb
</pre></div>
</div>


<p>If you already have RubyGems installed, you might want to update your system to the version used in this tutorial:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> <span class="o">[</span>sudo<span class="o">]</span> gem update --system 1.8.5
</pre></div>
</div>


<p>If you&rsquo;re using Ubuntu Linux, you might want to take a look at <a href="http://toranbillups.com/blog/archive/2010/09/01/How-to-install-Rails-3.0-and-Ruby-1.9.2-on-Ubuntu">the Ubuntu/Rails&nbsp;3.0 blog post by Toran Billups</a> for full installation instructions.</p>

<p>When installing gems, by default RubyGems generates two different kinds of documentation (called ri and rdoc), but many Ruby and Rails developers find that the time to build them isn&rsquo;t worth the benefit. (Many programmers rely on online documentation instead of the native ri and rdoc documents.) To prevent the automatic generation of the documentation, I recommend making a gem configuration file called <code>.gemrc</code> (located in your home directory) with the line in <a class="ref" href="/ruby-on-rails-tutorial-book#code:gemrc">Listing&nbsp;1.1</a>.</p>

<div class="label" id="code:gemrc"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 1.1.</span> <span class="description">Suppressing the ri and rdoc documentation using <code>.gemrc</code>.</span>       <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
              width="110"
              height="14"
              id="clippy_e3d210986460c1578ed5a735d7a7fd4a40c4fada">
      <param name="movie" value="/flash/clippy.swf"/>
      <param name="allowScriptAccess" value="always" />
      <param name="quality" value="high" />
      <param name="scale" value="noscale" />
      <param name="FlashVars" value="text=gem:%20%2D%2Dno%2Dri%20%2D%2Dno%2Drdoc%0A" />
      <param name="bgcolor" value="#ffffff" />
      <embed src="/flash/clippy.swf"
             width="110"
             height="14"
             name="clippy"
             quality="high"
             allowScriptAccess="always"
             type="application/x-shockwave-flash"
             pluginspage="http://www.macromedia.com/go/getflashplayer"
             FlashVars="text=gem:%20%2D%2Dno%2Dri%20%2D%2Dno%2Drdoc%0A"
             bgcolor="#ffffff"
      />
      </object>
</div>
<div class="code"><div class="highlight"><pre><span class="n">gem</span><span class="p">:</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">ri</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">rdoc</span>
</pre></div>
</div></div>




<div class="label" id="sec:install_rails"></div>


<h4><a id="sec:1.2.2.5" href="/ruby-on-rails-tutorial-book#sec:install_rails" class="heading">Install Rails</a></h4>


<p>Once you&rsquo;ve installed RubyGems, installing Rails&nbsp;3 should be easy. This tutorial uses the latest version of Rails&nbsp;3.0, which is Rails&nbsp;3.0.9 as of this writing. We can install it as follows:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> <span class="o">[</span>sudo<span class="o">]</span> gem install rails --version 3.0.9
</pre></div>
</div>


<p>To verify that this worked, run the following command:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rails -v
<span class="go">Rails 3.0.9</span>
</pre></div>
</div>


<p>The latest version of Rails at the moment is Rails&nbsp;3.1, which (again as of this writing) is currently available as a release candidate. For the purposes of this tutorial, Rails&nbsp;3.0 is currently a more stable choice, mainly because it always takes some time for the broader Rails ecosystem to catch up whenever a new release comes out. Moreover, for the purposes of initially learning Rails, Rails&nbsp;3.0 and&nbsp;3.1 are virtually identical, so almost everything you learn here will be immediately applicable to Rails&nbsp;3.1 applications.</p>

<p>There are a few backwards-incompatible changes in Rails&nbsp;3.1, which you can learn about <a class="ref" href="rails-3-1#top">Chapter&nbsp;13</a>. There are also some new features in Rails&nbsp;3.1, and <a class="ref" href="rails-3-1#top">Chapter&nbsp;13</a> discusses them briefly and provides pointers to resources that cover them in more depth. Finally, a future edition of this book (and a new version of the accompanying <a href="http://railstutorial.org/screencasts">screencasts</a>) will use Rails&nbsp;3.1 from the beginning, probably including introductions to a couple of its newer features (such as <a href="http://sass-lang.com/">Sass</a> and <a href="http://jashkenas.github.com/coffee-script/">CoffeeScript</a>).</p>

<div class="label" id="sec:the_first_application"></div>


<h3><a id="sec:1.2.3" href="/ruby-on-rails-tutorial-book#sec:the_first_application" class="heading"><span class="number">1.2.3</span> The first application</a></h3>


<p>Virtually all Rails applications start the same way, with the <code>rails</code> command. This handy program creates a skeleton Rails application in a directory of your choice. To get started, make a directory for your Rails projects and then run the <code>rails</code> command to make the first application:</p>

<div class="label" id="code:rails_script"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 1.2.</span> <span class="description">Running the <code>rails</code> script to generate a new application.</span> </div>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> mkdir rails_projects
<span class="gp">$</span> <span class="nb">cd </span>rails_projects
<span class="gp">$</span> rails new first_app
<span class="go">      create  </span>
<span class="go">      create  README</span>
<span class="go">      create  .gitignore</span>
<span class="go">      create  Rakefile</span>
<span class="go">      create  config.ru</span>
<span class="go">      create  Gemfile</span>
<span class="go">      create  app</span>
<span class="go">      create  app/controllers/application_controller.rb</span>
<span class="go">      create  app/helpers/application_helper.rb</span>
<span class="go">      create  app/views/layouts/application.html.erb</span>
<span class="go">      create  app/models</span>
<span class="go">      create  config</span>
<span class="go">      create  config/routes.rb</span>
<span class="go">      create  config/application.rb</span>
<span class="go">      create  config/environment.rb</span>
<span class="go">      .</span>
<span class="go">      .</span>
<span class="go">      .</span>
</pre></div>
</div></div>


<p>Notice how many files and directories the <code>rails</code> command creates. This standard directory and file structure (<a class="ref" href="/ruby-on-rails-tutorial-book#fig:directory_structure_rails_3">Figure&nbsp;1.2</a>) is one of the many advantages of Rails; it immediately gets you from zero to a functional (if minimal) application. Moreover, since the structure is common to all Rails apps, you can immediately get your bearings when looking at someone else&rsquo;s code. A summary of the default Rails files appears in <a class="ref" href="/ruby-on-rails-tutorial-book#table:rails_directory_structure">Table&nbsp;1.1</a>; we&rsquo;ll learn about most of these files and directories throughout the rest of this book.</p>

<div class="label" id="fig:directory_structure_rails_3"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/directory_structure_rails_3.png" alt="directory_structure_rails_3" /></span></div><div class="caption"><span class="header">Figure 1.2: </span><span class="description">The directory structure for a newly hatched Rails app.&nbsp;<a href="http://railstutorial.org/images/figures/directory_structure_rails_3-full.png">(full size)</a></span></div></div>




<div class="label" id="table:rails_directory_structure"></div>


<div class="table"><div class="center"><table class="tabular"><tr><th class="align_left"><strong>File/Directory</strong></th><th class="align_left"><strong>Purpose</strong></th></tr><tr class="top_bar"><td class="align_left"><tt>app/</tt></td><td class="align_left">Core application (app) code, including models, views, controllers, and helpers</td></tr><tr><td class="align_left"><tt>config/</tt></td><td class="align_left">Application configuration</td></tr><tr><td class="align_left"><tt>db/</tt></td><td class="align_left">Files to manipulate the database</td></tr><tr><td class="align_left"><tt>doc/</tt></td><td class="align_left">Documentation for the application</td></tr><tr><td class="align_left"><tt>lib/</tt></td><td class="align_left">Library modules</td></tr><tr><td class="align_left"><tt>log/</tt></td><td class="align_left">Application log files</td></tr><tr><td class="align_left"><tt>public/</tt></td><td class="align_left">Data accessible to the public (e.g., web browsers), such as images and cascading style sheets (CSS)</td></tr><tr><td class="align_left"><tt>script/rails</tt></td><td class="align_left">A script provided by Rails for generating code, opening console sessions, or starting a local web server</td></tr><tr><td class="align_left"><tt>test/</tt></td><td class="align_left">Application tests (made obsolete by the <tt>spec/</tt> directory in <a class="ref" href="static-pages#sec:static_pages_with_rails">Section&nbsp;3.1.2</a>)</td></tr><tr><td class="align_left"><tt>tmp/</tt></td><td class="align_left">Temporary files</td></tr><tr><td class="align_left"><tt>vendor/</tt></td><td class="align_left">Third-party code such as plugins and gems</td></tr><tr><td class="align_left"><tt>README</tt></td><td class="align_left">A brief description of the application</td></tr><tr><td class="align_left"><tt>Rakefile</tt></td><td class="align_left">Utility tasks available via the <code>rake</code> command</td></tr><tr><td class="align_left"><tt>Gemfile</tt></td><td class="align_left">Gem requirements for this app</td></tr><tr><td class="align_left"><tt>config.ru</tt></td><td class="align_left">A configuration file for <a href="http://rack.rubyforge.org/doc/">Rack middleware</a></td></tr><tr><td class="align_left"><tt>.gitignore</tt></td><td class="align_left">Patterns for files that should be ignored by Git</td></tr></table></div><div class="caption"><span class="header">Table 1.1: </span><span class="description">A summary of the default Rails directory structure.</span></div></div>




<div class="label" id="sec:bundler"></div>


<h3><a id="sec:1.2.4" href="/ruby-on-rails-tutorial-book#sec:bundler" class="heading"><span class="number">1.2.4</span> Bundler</a></h3>


<p>After creating a new Rails application, the next step is to use <em>Bundler</em> to install and include the gems needed by the app. This involves opening the <code>Gemfile</code> with your favorite text editor:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> <span class="nb">cd </span>first_app/
<span class="gp">$</span> mate Gemfile
</pre></div>
</div>


<p>The result should look something like <a class="ref" href="/ruby-on-rails-tutorial-book#code:default_gemfile">Listing&nbsp;1.3</a>.</p>

<div class="label" id="code:default_gemfile"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 1.3.</span> <span class="description">The default <code>Gemfile</code> in the <code>first_app</code> directory.</span>       <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
              width="110"
              height="14"
              id="clippy_5c7d65ecf5046a91b0a9e92ba2511c456d76e1f3">
      <param name="movie" value="/flash/clippy.swf"/>
      <param name="allowScriptAccess" value="always" />
      <param name="quality" value="high" />
      <param name="scale" value="noscale" />
      <param name="FlashVars" value="text=source%20'http://rubygems.org'%0A%0Agem%20'rails',%20'3.0.9'%0A%0A%23%20Bundle%20edge%20Rails%20instead:%0A%23%20gem%20'rails',%20:git%20=%3E%20'git://github.com/rails/rails.git'%0A%0Agem%20'sqlite3'%0A%0A%23%20Use%20unicorn%20as%20the%20web%20server%0A%23%20gem%20'unicorn'%0A%0A%23%20Deploy%20with%20Capistrano%0A%23%20gem%20'capistrano'%0A%0A%23%20To%20use%20debugger%0A%23%20gem%20'ruby%2Ddebug'%0A%0A%23%20Bundle%20the%20extra%20gems:%0A%23%20gem%20'bj'%0A%23%20gem%20'nokogiri',%20'1.4.1'%0A%23%20gem%20'sqlite3'%0A%23%20gem%20'aws%2Ds3',%20:require%20=%3E%20'aws/s3'%0A%0A%23%20Bundle%20gems%20for%20certain%20environments:%0A%23%20gem%20'rspec',%20:group%20=%3E%20:test%0A%23%20group%20:test%20do%0A%23%20%20%20gem%20'webrat'%0A%23%20end%0A" />
      <param name="bgcolor" value="#ffffff" />
      <embed src="/flash/clippy.swf"
             width="110"
             height="14"
             name="clippy"
             quality="high"
             allowScriptAccess="always"
             type="application/x-shockwave-flash"
             pluginspage="http://www.macromedia.com/go/getflashplayer"
             FlashVars="text=source%20'http://rubygems.org'%0A%0Agem%20'rails',%20'3.0.9'%0A%0A%23%20Bundle%20edge%20Rails%20instead:%0A%23%20gem%20'rails',%20:git%20=%3E%20'git://github.com/rails/rails.git'%0A%0Agem%20'sqlite3'%0A%0A%23%20Use%20unicorn%20as%20the%20web%20server%0A%23%20gem%20'unicorn'%0A%0A%23%20Deploy%20with%20Capistrano%0A%23%20gem%20'capistrano'%0A%0A%23%20To%20use%20debugger%0A%23%20gem%20'ruby%2Ddebug'%0A%0A%23%20Bundle%20the%20extra%20gems:%0A%23%20gem%20'bj'%0A%23%20gem%20'nokogiri',%20'1.4.1'%0A%23%20gem%20'sqlite3'%0A%23%20gem%20'aws%2Ds3',%20:require%20=%3E%20'aws/s3'%0A%0A%23%20Bundle%20gems%20for%20certain%20environments:%0A%23%20gem%20'rspec',%20:group%20=%3E%20:test%0A%23%20group%20:test%20do%0A%23%20%20%20gem%20'webrat'%0A%23%20end%0A"
             bgcolor="#ffffff"
      />
      </object>
</div>
<div class="code"><div class="highlight"><pre><span class="n">source</span> <span class="s1">&#39;http://rubygems.org&#39;</span>

<span class="n">gem</span> <span class="s1">&#39;rails&#39;</span><span class="p">,</span> <span class="s1">&#39;3.0.9&#39;</span>

<span class="c1"># Bundle edge Rails instead:</span>
<span class="c1"># gem &#39;rails&#39;, :git =&gt; &#39;git://github.com/rails/rails.git&#39;</span>

<span class="n">gem</span> <span class="s1">&#39;sqlite3&#39;</span>

<span class="c1"># Use unicorn as the web server</span>
<span class="c1"># gem &#39;unicorn&#39;</span>

<span class="c1"># Deploy with Capistrano</span>
<span class="c1"># gem &#39;capistrano&#39;</span>

<span class="c1"># To use debugger</span>
<span class="c1"># gem &#39;ruby-debug&#39;</span>

<span class="c1"># Bundle the extra gems:</span>
<span class="c1"># gem &#39;bj&#39;</span>
<span class="c1"># gem &#39;nokogiri&#39;, &#39;1.4.1&#39;</span>
<span class="c1"># gem &#39;sqlite3&#39;</span>
<span class="c1"># gem &#39;aws-s3&#39;, :require =&gt; &#39;aws/s3&#39;</span>

<span class="c1"># Bundle gems for certain environments:</span>
<span class="c1"># gem &#39;rspec&#39;, :group =&gt; :test</span>
<span class="c1"># group :test do</span>
<span class="c1">#   gem &#39;webrat&#39;</span>
<span class="c1"># end</span>
</pre></div>
</div></div>


<p>Most of these lines are commented out with the hash symbol&nbsp;<code>#</code>; they are there to show you some commonly needed gems and to give examples of the Bundler syntax. For now, we won&rsquo;t need any gems other than the defaults: Rails itself, and the gem for the Ruby interface to the <a href="http://www.sqlite.org/">SQLite database</a>.</p>

<p>Unless you specify a version number to the <code>gem</code> command, Bundler will automatically install the latest version. Unfortunately, gem updates often cause minor but potentially confusing breakage, so in this tutorial we&rsquo;ll usually include an explicit version number known to work, as seen in <a class="ref" href="/ruby-on-rails-tutorial-book#code:gemfile_sqlite_version">Listing&nbsp;1.4</a>.<sup class="footnote" id="fnref:1.10"><a href="/ruby-on-rails-tutorial-book#fn:1.10">10</a></sup></p>

<div class="label" id="code:gemfile_sqlite_version"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 1.4.</span> <span class="description">A <code>Gemfile</code> with an explicit version of the <tt>sqlite3</tt> gem.</span>       <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
              width="110"
              height="14"
              id="clippy_683544252d399c036bc02032b29614ea0b3fd557">
      <param name="movie" value="/flash/clippy.swf"/>
      <param name="allowScriptAccess" value="always" />
      <param name="quality" value="high" />
      <param name="scale" value="noscale" />
      <param name="FlashVars" value="text=source%20'http://rubygems.org'%0A%0Agem%20'rails',%20'3.0.9'%0Agem%20'sqlite3',%20'1.3.3'%0A" />
      <param name="bgcolor" value="#ffffff" />
      <embed src="/flash/clippy.swf"
             width="110"
             height="14"
             name="clippy"
             quality="high"
             allowScriptAccess="always"
             type="application/x-shockwave-flash"
             pluginspage="http://www.macromedia.com/go/getflashplayer"
             FlashVars="text=source%20'http://rubygems.org'%0A%0Agem%20'rails',%20'3.0.9'%0Agem%20'sqlite3',%20'1.3.3'%0A"
             bgcolor="#ffffff"
      />
      </object>
</div>
<div class="code"><div class="highlight"><pre><span class="n">source</span> <span class="s1">&#39;http://rubygems.org&#39;</span>

<span class="n">gem</span> <span class="s1">&#39;rails&#39;</span><span class="p">,</span> <span class="s1">&#39;3.0.9&#39;</span>
<span class="n">gem</span> <span class="s1">&#39;sqlite3&#39;</span><span class="p">,</span> <span class="s1">&#39;1.3.3&#39;</span>
</pre></div>
</div></div>


<p>This changes the line</p>

<div class="code"><div class="highlight"><pre><span class="n">gem</span> <span class="s1">&#39;sqlite3&#39;</span>
</pre></div>
</div>


<p>from <a class="ref" href="/ruby-on-rails-tutorial-book#code:default_gemfile">Listing&nbsp;1.3</a> to</p>

<div class="code"><div class="highlight"><pre><span class="n">gem</span> <span class="s1">&#39;sqlite3&#39;</span><span class="p">,</span> <span class="s1">&#39;1.3.3&#39;</span>
</pre></div>
</div>


<p>which forces Bundler to install version <tt>1.3.3</tt> of the <tt>sqlite3</tt> gem. (Note that you will need version <tt>1.2.5</tt> of the <tt>sqlite3-ruby</tt> gem if you are running OS&nbsp;X Leopard:</p>

<div class="code"><div class="highlight"><pre><span class="n">gem</span> <span class="s1">&#39;sqlite3-ruby&#39;</span><span class="p">,</span> <span class="s1">&#39;1.2.5&#39;</span><span class="p">,</span> <span class="ss">:require</span> <span class="o">=&gt;</span> <span class="s1">&#39;sqlite3&#39;</span>
</pre></div>
</div>


<p>This is because the latest version of the gem, now just called <tt>sqlite3</tt>, needs Snow Leopard or later to compile.)</p>

<p>If you&rsquo;re running Ubuntu Linux, you might have to install a couple of other packages at this point:<sup class="footnote" id="fnref:1.11"><a href="/ruby-on-rails-tutorial-book#fn:1.11">11</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> sudo apt-get install libxslt-dev libxml2-dev libsqlite3-dev    <span class="c"># Linux only</span>
</pre></div>
</div>


<p>Once you&rsquo;ve assembled the proper <code>Gemfile</code>, install the gems using <code>bundle install</code>:<sup class="footnote" id="fnref:1.12"><a href="/ruby-on-rails-tutorial-book#fn:1.12">12</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> bundle install
<span class="go">Fetching source index for http://rubygems.org/</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
</pre></div>
</div>


<p>This might take a few moments, but when it&rsquo;s done our application will be ready to run.</p>

<div class="label" id="sec:rails_server"></div>


<h3><a id="sec:1.2.5" href="/ruby-on-rails-tutorial-book#sec:rails_server" class="heading"><span class="number">1.2.5</span> <code>rails server</code></a></h3>


<p>Thanks to running <code>rails new</code> in <a class="ref" href="/ruby-on-rails-tutorial-book#sec:the_first_application">Section&nbsp;1.2.3</a> and <code>bundle install</code> in <a class="ref" href="/ruby-on-rails-tutorial-book#sec:bundler">Section&nbsp;1.2.4</a>, we already have an application we can run&mdash;but how? Happily, Rails comes with a command-line program, or <em>script</em>, that runs a <em>local</em> web server,<sup class="footnote" id="fnref:1.13"><a href="/ruby-on-rails-tutorial-book#fn:1.13">13</a></sup> visible only from your development machine:<sup class="footnote" id="fnref:1.14"><a href="/ruby-on-rails-tutorial-book#fn:1.14">14</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rails server
<span class="go">=&gt; Booting WEBrick</span>
<span class="go">=&gt; Rails 3.0.9 application starting on http://0.0.0.0:3000</span>
<span class="go">=&gt; Call with -d to detach</span>
<span class="go">=&gt; Ctrl-C to shutdown server</span>
</pre></div>
</div>


<p>This tells us that the application is running on <a href="http://en.wikipedia.org/wiki/TCP_and_UDP_port">port number</a> 3000<sup class="footnote" id="fnref:1.15"><a href="/ruby-on-rails-tutorial-book#fn:1.15">15</a></sup> at the address <code>0.0.0.0</code>. This address tells the computer to listen on every available IP address configured on that specific machine; in particular, we can view the application using the special address <code>127.0.0.1</code>, which is also known as <code>localhost</code>. We can see the result of visiting <a href="http://localhost:3000/"><tt>http://localhost:3000/</tt></a> in <a class="ref" href="/ruby-on-rails-tutorial-book#fig:riding_rails_3">Figure&nbsp;1.3</a>.<sup class="footnote" id="fnref:1.16"><a href="/ruby-on-rails-tutorial-book#fn:1.16">16</a></sup></p>

<div class="label" id="fig:riding_rails_3"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/riding_rails_3.png" alt="riding_rails_3" /></span></div><div class="caption"><span class="header">Figure 1.3: </span><span class="description">The default Rails page (<a href="http://localhost:3000/"><tt>http://localhost:3000/</tt></a>).&nbsp;<a href="http://railstutorial.org/images/figures/riding_rails_3-full.png">(full size)</a></span></div></div>


<p>To see information about our first application, click on the link &ldquo;About your application&rsquo;s environment&rdquo;. The result is shown in <a class="ref" href="/ruby-on-rails-tutorial-book#fig:riding_rails_3_environment">Figure&nbsp;1.4</a>.<sup class="footnote" id="fnref:1.17"><a href="/ruby-on-rails-tutorial-book#fn:1.17">17</a></sup></p>

<div class="label" id="fig:riding_rails_3_environment"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/riding_rails_3_environment.png" alt="riding_rails_3_environment" /></span></div><div class="caption"><span class="header">Figure 1.4: </span><span class="description">The default page (<a href="http://localhost:3000/"><tt>http://localhost:3000/</tt></a>) with the app environment.&nbsp;<a href="http://railstutorial.org/images/figures/riding_rails_3_environment-full.png">(full size)</a></span></div></div>


<p>Of course, we don&rsquo;t need the default Rails page in the long run, but it&rsquo;s nice to see it working for now. We&rsquo;ll remove the default page (and replace it with a custom home page) in <a class="ref" href="filling-in-the-layout#sec:rails_routes">Section&nbsp;5.2.2</a>.</p>

<div class="label" id="sec:mvc"></div>


<h3><a id="sec:1.2.6" href="/ruby-on-rails-tutorial-book#sec:mvc" class="heading"><span class="number">1.2.6</span> Model-view-controller (MVC)</a></h3>


<p>Even at this early stage, it&rsquo;s helpful to get a high-level overview of how Rails applications work (<a class="ref" href="/ruby-on-rails-tutorial-book#fig:MVC">Figure&nbsp;1.5</a>). You might have noticed that the standard Rails application structure (<a class="ref" href="/ruby-on-rails-tutorial-book#fig:directory_structure_rails_3">Figure&nbsp;1.2</a>) has an application directory called <code>app/</code> with three subdirectories: <code>models</code>, <code>views</code>, and <code>controllers</code>. This is a hint that Rails follows the <a href="http://en.wikipedia.org/wiki/Model-view-controller">model-view-controller</a> (MVC) architectural pattern, which enforces a separation between &ldquo;domain logic&rdquo; (also called &ldquo;business logic&rdquo;) from the input and presentation logic associated with a graphical user interface (GUI). In the case of web applications, the &ldquo;domain logic&rdquo; typically consists of data models for things like users, articles, and products, and the GUI is just a web page in a web browser.</p>

<p>When interacting with a Rails application, a browser sends a <em>request</em>, which is received by a web server and passed on to a Rails <em>controller</em>, which is in charge of what to do next. In some cases, the controller will immediately render a <em>view</em>, which is a template that gets converted to HTML and sent back to the browser. More commonly for dynamic sites, the controller interacts with a <em>model</em>, which is a Ruby object that represents an element of the site (such as a user) and is in charge of communicating with the database. After invoking the model, the controller then renders the view and returns the complete web page to the browser as HTML.</p>

<div class="label" id="fig:MVC"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/mvc_schematic.png" alt="mvc_schematic" /></span></div><div class="caption"><span class="header">Figure 1.5: </span><span class="description">A schematic representation of the model-view-controller (MVC) architecture.</span></div></div>


<p>If this discussion seems a bit abstract right now, worry not; we&rsquo;ll refer back to this section frequently. In addition, <a class="ref" href="a-demo-app#sec:mvc_in_action">Section&nbsp;2.2.2</a> has a more detailed discussion of MVC in the context of the demo app.  Finally, the sample app will use all aspects of MVC; we&rsquo;ll cover controllers and views starting in <a class="ref" href="static-pages#sec:static_pages_with_rails">Section&nbsp;3.1.2</a>, models starting in <a class="ref" href="modeling-and-viewing-users-one#sec:user_model">Section&nbsp;6.1</a>, and we&rsquo;ll see all three working together in <a class="ref" href="modeling-and-viewing-users-one#sec:users_show">Section&nbsp;6.3.2</a>.</p>

<div class="label" id="sec:version_control"></div>


<h2><a id="sec:1.3" href="/ruby-on-rails-tutorial-book#sec:version_control" class="heading"><span class="number">1.3</span> Version control with Git</a></h2>


<p>Now that we have a fresh and working Rails application, we&rsquo;ll take a moment for a step that, while technically optional, would be viewed by many Rails developers as practically essential, namely, placing our application source code under <em>version control</em>. Version control systems allow us to track changes to our project&rsquo;s code, collaborate more easily, and roll back any inadvertent errors (such as accidentally deleting files). Knowing how to use a version control system is a required skill for every software developer.</p>

<p>There are many options for version control, but the Rails community has largely standardized on <a href="http://git-scm.com/">Git</a>, a distributed version control system originally developed by Linus Torvalds to host the Linux kernel. Git is a large subject, and we&rsquo;ll only be scratching the surface in this book, but there are many good free resources online; I especially recommend <a href="http://progit.org"><em>Pro Git</em></a> by Scott Chacon (Apress, 2009). Putting your source code under version control with Git is <em>strongly</em> recommended, not only because it&rsquo;s nearly a universal practice in the Rails world, but also because it will allow you to share your code more easily (<a class="ref" href="/ruby-on-rails-tutorial-book#sec:github">Section&nbsp;1.3.4</a>) and deploy your application right here in the first chapter (<a class="ref" href="/ruby-on-rails-tutorial-book#sec:deploying">Section&nbsp;1.4</a>).</p>

<div class="label" id="sec:git_setup"></div>


<h3><a id="sec:1.3.1" href="/ruby-on-rails-tutorial-book#sec:git_setup" class="heading"><span class="number">1.3.1</span> Installation and setup</a></h3>


<p>The first step is to install Git if you haven&rsquo;t yet followed the steps in <a class="ref" href="/ruby-on-rails-tutorial-book#sec:install_git">Section&nbsp;1.2.2.2</a>. (As noted in that section, this involves following the instructions in the <a href="http://progit.org/book/ch1-4.html">Installing Git section of <em>Pro Git</em></a>.)</p>

<h4><a id="sec:1.3.1.1" href="/ruby-on-rails-tutorial-book#sec:1.3.1.1" class="heading">First-time system setup</a></h4>


<p>After installing Git, you should perform a set of one-time setup steps. These are <em>system</em> setups, meaning you only have to do them once per computer:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git config --global user.name <span class="s2">&quot;Your Name&quot;</span>
<span class="gp">$</span> git config --global user.email youremail@example.com
</pre></div>
</div>


<p>I also like to use <code>co</code> in place of the more verbose <code>checkout</code> command, which we can arrange as follows:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git config --global alias.co checkout
</pre></div>
</div>


<p>This tutorial will usually use the full <code>checkout</code> command, which works for systems that don&rsquo;t have <code>co</code> configured, but in real life I nearly always use <code>git co</code> to check out a project.</p>

<p>As a final setup step, you can optionally set the editor Git will use for commit messages. If you use a graphical editor such as TextMate, gVim, or MacVim, you need to use a flag to make sure that the editor stays attached to the shell instead of detaching immediately:<sup class="footnote" id="fnref:1.18"><a href="/ruby-on-rails-tutorial-book#fn:1.18">18</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git config --global core.editor <span class="s2">&quot;mate -w&quot;</span>
</pre></div>
</div>


<p>Replace <code>"mate -w"</code> with <code>"gvim -f"</code> for gVim or <code>"mvim -f"</code> for MacVim.</p>

<h4><a id="sec:1.3.1.2" href="/ruby-on-rails-tutorial-book#sec:1.3.1.2" class="heading">First-time repository setup</a></h4>


<p>Now we come to some steps that are necessary each time you create a new <em>repository</em> (which only happens once in this book, but is likely to happen again some day). First navigate to the root directory of the first app and initialize a new repository:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git init
<span class="go">Initialized empty Git repository in /Users/mhartl/rails_projects/first_app/.git/</span>
</pre></div>
</div>


<p>The next step is to add the project files to the repository. There&rsquo;s a minor complication, though: by default Git tracks the changes of <em>all</em> the files, but there are some files we don&rsquo;t want to track. For example, Rails creates log files to record the behavior of the application; these files change frequently, and we don&rsquo;t want our version control system to have to update them constantly. Git has a simple mechanism to ignore such files: simply include a file called <code>.gitignore</code> in the Rails root directory with some rules telling Git which files to ignore.</p>

<p>Looking again at <a class="ref" href="/ruby-on-rails-tutorial-book#table:rails_directory_structure">Table&nbsp;1.1</a>, we see that the <code>rails</code> command creates a default <code>.gitignore</code> file in the Rails root directory, as shown in <a class="ref" href="/ruby-on-rails-tutorial-book#code:default_gitignore">Listing&nbsp;1.5</a>.</p>

<div class="label" id="code:default_gitignore"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 1.5.</span> <span class="description">The default <code>.gitignore</code> created by the <code>rails</code> command.</span>       <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
              width="110"
              height="14"
              id="clippy_a14fbe0b8b325cd4278e30da76b2e3568a52c98f">
      <param name="movie" value="/flash/clippy.swf"/>
      <param name="allowScriptAccess" value="always" />
      <param name="quality" value="high" />
      <param name="scale" value="noscale" />
      <param name="FlashVars" value="text=.bundle%0Adb/*.sqlite3%0Alog/*.log%0Atmp/**/*%0A" />
      <param name="bgcolor" value="#ffffff" />
      <embed src="/flash/clippy.swf"
             width="110"
             height="14"
             name="clippy"
             quality="high"
             allowScriptAccess="always"
             type="application/x-shockwave-flash"
             pluginspage="http://www.macromedia.com/go/getflashplayer"
             FlashVars="text=.bundle%0Adb/*.sqlite3%0Alog/*.log%0Atmp/**/*%0A"
             bgcolor="#ffffff"
      />
      </object>
</div>
<div class="code"><div class="highlight"><pre>.bundle
db/*.sqlite3
log/*.log
tmp/**/*
</pre></div>
</div></div>


<p><a class="ref" href="/ruby-on-rails-tutorial-book#code:default_gitignore">Listing&nbsp;1.5</a> causes Git to ignore files such as log files, Rails temporary (<code>tmp</code>) files, and SQLite databases. (For example, to ignore log files, which live in the <code>log/</code> directory, we use <code>log/*.log</code> to ignore all files that end in <code>.log</code>.) Most of these ignored files change frequently and automatically, so including them under version control is inconvenient; moreover, when collaborating with others they can cause frustrating and irrelevant conflicts.</p>

<p>The <code>.gitignore</code> file in <a class="ref" href="/ruby-on-rails-tutorial-book#code:default_gitignore">Listing&nbsp;1.5</a> is probably sufficient for this tutorial, but depending on your system you may find <a class="ref" href="/ruby-on-rails-tutorial-book#code:gitignore">Listing&nbsp;1.6</a> more convenient.<sup class="footnote" id="fnref:1.19"><a href="/ruby-on-rails-tutorial-book#fn:1.19">19</a></sup> This augmented <code>.gitignore</code> arranges to ignore Rails documentation files, Vim and Emacs swap files, and (for OS&nbsp;X users) the weird <code>.DS_Store</code> directories created by the Mac Finder application. If you want to use this broader set of ignored files, open up <code>.gitignore</code> in your favorite text editor and fill it with the contents of <a class="ref" href="/ruby-on-rails-tutorial-book#code:gitignore">Listing&nbsp;1.6</a>.</p>

<div class="label" id="code:gitignore"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 1.6.</span> <span class="description">An augmented <code>.gitignore</code> file.</span>       <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
              width="110"
              height="14"
              id="clippy_791b5af6dffcf756963b716aed087ba7069a1a90">
      <param name="movie" value="/flash/clippy.swf"/>
      <param name="allowScriptAccess" value="always" />
      <param name="quality" value="high" />
      <param name="scale" value="noscale" />
      <param name="FlashVars" value="text=.bundle%0Adb/*.sqlite3*%0Alog/*.log%0A*.log%0A/tmp/%0Adoc/%0A*.swp%0A*~%0A.project%0A.DS_Store%0A" />
      <param name="bgcolor" value="#ffffff" />
      <embed src="/flash/clippy.swf"
             width="110"
             height="14"
             name="clippy"
             quality="high"
             allowScriptAccess="always"
             type="application/x-shockwave-flash"
             pluginspage="http://www.macromedia.com/go/getflashplayer"
             FlashVars="text=.bundle%0Adb/*.sqlite3*%0Alog/*.log%0A*.log%0A/tmp/%0Adoc/%0A*.swp%0A*~%0A.project%0A.DS_Store%0A"
             bgcolor="#ffffff"
      />
      </object>
</div>
<div class="code"><div class="highlight"><pre>.bundle
db/*.sqlite3*
log/*.log
*.log
/tmp/
doc/
*.swp
*~
.project
.DS_Store
</pre></div>
</div></div>




<div class="label" id="sec:adding_and_committing"></div>


<h3><a id="sec:1.3.2" href="/ruby-on-rails-tutorial-book#sec:adding_and_committing" class="heading"><span class="number">1.3.2</span> Adding and committing</a></h3>


<p>Finally, we&rsquo;ll add the files in your new Rails project to Git and then commit the results. You can add all the files (apart from those that match the ignore patterns in <code>.gitignore</code>) as follows:<sup class="footnote" id="fnref:1.20"><a href="/ruby-on-rails-tutorial-book#fn:1.20">20</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git add .
</pre></div>
</div>


<p>Here the dot &lsquo;<code>.</code>&rsquo; represents the current directory, and Git is smart enough to add the files <em>recursively</em>, so it automatically includes all the subdirectories. This command adds the project files to a <em>staging area</em>, which contains pending changes to your project; you can see which files are in the staging area using the <code>status</code> command:<sup class="footnote" id="fnref:1.21"><a href="/ruby-on-rails-tutorial-book#fn:1.21">21</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git status
<span class="gp">#</span> On branch master
<span class="gp">#</span>
<span class="gp">#</span> Initial commit
<span class="gp">#</span>
<span class="gp">#</span> Changes to be committed:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git rm --cached &lt;file&gt;...&quot;</span> to unstage<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>       new file:   README
<span class="gp">#</span>       new file:   Rakefile
<span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
</pre></div>
</div>


<p>(The results are long, so I&rsquo;ve used vertical dots to indicate omitted output.)</p>

<p>To tell Git you want to keep the changes, use the <code>commit</code> command:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git commit -m <span class="s2">&quot;Initial commit&quot;</span>
<span class="go">[master (root-commit) df0a62f] Initial commit</span>
<span class="go">42 files changed, 8461 insertions(+), 0 deletions(-)</span>
<span class="go">create mode 100644 README</span>
<span class="go">create mode 100644 Rakefile</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
</pre></div>
</div>


<p>The <code>-m</code> flag lets you add a message for the commit; if you omit <code>-m</code>, Git will open the editor you set in <a class="ref" href="/ruby-on-rails-tutorial-book#sec:git_setup">Section&nbsp;1.3.1</a> and have you enter the message there.</p>

<p>It is important to note that Git commits are <em>local</em>, recorded only on the machine on which the commits occur. This is in contrast to the popular open-source version control system called Subversion, in which a commit necessarily makes changes on a remote repository. Git divides a Subversion-style commit into its two logical pieces: a local recording of the changes (<code>git commit</code>) and a push of the changes up to a remote repository (<code>git push</code>). We&rsquo;ll see an example of the push step in <a class="ref" href="/ruby-on-rails-tutorial-book#sec:git_commands">Section&nbsp;1.3.5</a>.</p>

<p>By the way, you can see a list of your commit messages using the <code>log</code> command:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git log
<span class="go">commit df0a62f3f091e53ffa799309b3e32c27b0b38eb4</span>
<span class="go">Author: Michael Hartl &lt;michael@michaelhartl.com&gt;</span>
<span class="go">Date:   Thu Oct 15 11:36:21 2009 -0700</span>

<span class="go">  Initial commit</span>
</pre></div>
</div>


<p>To exit <code>git log</code>, you may have to type <code>q</code> to quit.</p>

<h3><a id="sec:1.3.3" href="/ruby-on-rails-tutorial-book#sec:1.3.3" class="heading"><span class="number">1.3.3</span> What good does Git do you?</a></h3>


<p>It&rsquo;s probably not entirely clear at this point why putting your source under version control does you any good, so let me give just one example. (We&rsquo;ll see many others in the chapters ahead.) Suppose you&rsquo;ve made some accidental changes, such as (D&rsquo;oh!) deleting the critical <code>app/controllers/</code> directory:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> ls app/controllers/
<span class="go">application_controller.rb</span>
<span class="gp">$</span> rm -rf app/controllers/
<span class="gp">$</span> ls app/controllers/
<span class="go">ls: app/controllers/: No such file or directory</span>
</pre></div>
</div>


<p>Here we&rsquo;re using the Unix <code>ls</code> command to list the contents of the <code>app/controllers/</code> directory and the <code>rm</code> command to remove it. The <code>-rf</code> flag means &ldquo;recursive force&rdquo;, which recursively removes all files, directories, subdirectories, and so on, without asking for explicit confirmation of each deletion.</p>

<p>Let&rsquo;s check the status to see what&rsquo;s up:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git status
<span class="gp">#</span> On branch master
<span class="gp">#</span> Changed but not updated:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git add/rm &lt;file&gt;...&quot;</span> to update what will be committed<span class="o">)</span>
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes in working directory<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>       deleted:    app/controllers/application_controller.rb
<span class="gp">#</span>
<span class="go">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span>
</pre></div>
</div>


<p>We see here that a couple files have been deleted, but the changes are only on the &ldquo;working tree&rdquo;; they haven&rsquo;t been committed yet. This means we can still undo the changes easily by having Git check out the previous commit with the <code>checkout</code> command (and a <code>-f</code> flag to force overwriting the current changes):</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git checkout -f
<span class="gp">$</span> git status
<span class="gp">#</span> On branch master
<span class="go">nothing to commit (working directory clean)</span>
<span class="gp">$</span> ls app/controllers/
<span class="go">application_controller.rb</span>
</pre></div>
</div>


<p>The missing directory and file are back. That&rsquo;s a relief!</p>

<div class="label" id="sec:github"></div>


<h3><a id="sec:1.3.4" href="/ruby-on-rails-tutorial-book#sec:github" class="heading"><span class="number">1.3.4</span> GitHub</a></h3>


<p>Now that you&rsquo;ve put your project under version control with Git, it&rsquo;s time to push your code up to <a href="http://github.com">GitHub</a>, a social code site optimized for hosting and sharing Git repositories. Putting a copy of your Git repository at GitHub serves two purposes: it&rsquo;s a full backup of your code (including the full history of commits), and it makes any future collaboration much easier. This step is optional, but being a GitHub member will open the door to participating in a wide variety of open-source projects.</p>

<div class="label" id="fig:github_first_page"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/github_first_page.png" alt="github_first_page" /></span></div><div class="caption"><span class="header">Figure 1.6: </span><span class="description">The first GitHub page after account creation.&nbsp;<a href="http://railstutorial.org/images/figures/github_first_page-full.png">(full size)</a></span></div></div>




<div class="label" id="fig:create_first_repository"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/create_first_repository.png" alt="create_first_repository" /></span></div><div class="caption"><span class="header">Figure 1.7: </span><span class="description">Creating the first app repository at GitHub.&nbsp;<a href="http://railstutorial.org/images/figures/create_first_repository-full.png">(full size)</a></span></div></div>


<p>GitHub has a variety of paid plans, but for open source code their services are free, so sign up for a <a href="https://github.com/signup/free">free GitHub account</a> if you don&rsquo;t have one already. (You might have to read about <a href="http://help.github.com/key-setup-redirect">SSH keys</a> first.) After signing up, you&rsquo;ll see a page like the one in <a class="ref" href="/ruby-on-rails-tutorial-book#fig:github_first_page">Figure&nbsp;1.6</a>. Click on <a href="http://github.com/repositories/new">create a repository</a> and fill in the information as in <a class="ref" href="/ruby-on-rails-tutorial-book#fig:create_first_repository">Figure&nbsp;1.7</a>. After submitting the form, push up your first application as follows:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git remote add origin git@github.com:&lt;username&gt;/first_app.git
<span class="gp">$</span> git push origin master
</pre></div>
</div>


<p>These commands tell Git that you want to add GitHub as the origin for your main (<em>master</em>) branch and then push your repository up to GitHub. Of course, you should replace <tt class="verb">&lt;username&gt;</tt> with your actual username. For example, the command I ran for the <code>railstutorial</code> user was</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git remote add origin git@github.com:railstutorial/first_app.git
</pre></div>
</div>


<p>The result is a page at GitHub for the first application repository, with file browsing, full commit history, and lots of other goodies (<a class="ref" href="/ruby-on-rails-tutorial-book#fig:github_repository_page">Figure&nbsp;1.8</a>).</p>

<div class="label" id="fig:github_repository_page"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/github_repository_page.png" alt="github_repository_page" /></span></div><div class="caption"><span class="header">Figure 1.8: </span><span class="description">A GitHub repository page.&nbsp;<a href="http://railstutorial.org/images/figures/github_repository_page-full.png">(full size)</a></span></div></div>




<div class="label" id="sec:git_commands"></div>


<h3><a id="sec:1.3.5" href="/ruby-on-rails-tutorial-book#sec:git_commands" class="heading"><span class="number">1.3.5</span> Branch, edit, commit, merge</a></h3>


<p>If you&rsquo;ve followed the steps in <a class="ref" href="/ruby-on-rails-tutorial-book#sec:github">Section&nbsp;1.3.4</a>, you might notice that GitHub automatically shows the contents of the <code>README</code> file on the main repository page. In our case, since the project is a Rails application generated using the <code>rails</code> command, the <code>README</code> file is the one that comes with Rails (<a class="ref" href="/ruby-on-rails-tutorial-book#fig:rails_readme">Figure&nbsp;1.9</a>). This isn&rsquo;t very helpful, so in this section we&rsquo;ll make our first edit by changing the <code>README</code> to describe our project rather than the Rails framework itself. In the process, we&rsquo;ll see a first example of the branch, edit, commit, merge workflow that I recommend using with Git.</p>

<div class="label" id="fig:rails_readme"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/rails_readme.png" alt="rails_readme" /></span></div><div class="caption"><span class="header">Figure 1.9: </span><span class="description">The initial (rather useless) <code>README</code> file for our project at GitHub.&nbsp;<a href="http://railstutorial.org/images/figures/rails_readme-full.png">(full size)</a></span></div></div>




<div class="label" id="sec:git_branch"></div>


<h4><a id="sec:1.3.5.1" href="/ruby-on-rails-tutorial-book#sec:git_branch" class="heading">Branch</a></h4>


<p>Git is incredibly good at making <em>branches</em>, which are effectively copies of a repository where we can make (possibly experimental) changes without modifying the parent files. In most cases, the parent repository is the <em>master</em> branch, and we can create a new topic branch by using <code>checkout</code> with the <code>-b</code> flag:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git checkout -b modify-README
<span class="go">Switched to a new branch &#39;modify-README&#39;</span>
<span class="gp">$</span> git branch
<span class="go">master</span>
<span class="go">* modify-README</span>
</pre></div>
</div>


<p>Here the second command, <code>git branch</code>, just lists all the local branches, and the asterisk&nbsp;<code>*</code> identifies which branch we&rsquo;re currently on. Note that <code>git checkout -b modify-README</code> both creates a new branch and switches to it, as indicated by the asterisk in front of the <code>modify-README</code> branch. (If you set up the <code>co</code> alias in <a class="ref" href="/ruby-on-rails-tutorial-book#sec:version_control">Section&nbsp;1.3</a>, you can use <code>git co -b modify-README</code> instead.)</p>

<p>The full value of branching only becomes clear when working on a project with multiple developers,<sup class="footnote" id="fnref:1.22"><a href="/ruby-on-rails-tutorial-book#fn:1.22">22</a></sup> but branches are helpful even for a single-developer tutorial such as this one. In particular, the master branch is insulated from any changes we make to the topic branch, so even if we <em>really</em> screw things up we can always abandon the changes by checking out the master branch and deleting the topic branch. We&rsquo;ll see how to do this at the end of the section.</p>

<p>By the way, for a change as small as this one I wouldn&rsquo;t normally bother with a new branch, but it&rsquo;s never too early to start practicing good habits.</p>

<div class="label" id="sec:git_edit"></div>


<h4><a id="sec:1.3.5.2" href="/ruby-on-rails-tutorial-book#sec:git_edit" class="heading">Edit</a></h4>


<p>After creating the topic branch, we&rsquo;ll edit it to make it a little more descriptive. I like to use the <a href="http://daringfireball.net/projects/markdown/">Markdown markup language</a> for this purpose, and if you use the file extension <code>.markdown</code> then GitHub will automatically format it nicely for you. So, first we&rsquo;ll use Git&rsquo;s version of the Unix <code>mv</code> (&ldquo;move&rdquo;) command to change the name, and then fill it in with the contents of <a class="ref" href="/ruby-on-rails-tutorial-book#code:new_readme">Listing&nbsp;1.7</a>:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git mv README README.markdown
<span class="gp">$</span> mate README.markdown
</pre></div>
</div>


<div class="label" id="code:new_readme"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 1.7.</span> <span class="description">The new <code>README</code> file, <code>README.markdown</code>.</span>       <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
              width="110"
              height="14"
              id="clippy_2ffd10178debc2ce7174b9ff5a81e477063609d6">
      <param name="movie" value="/flash/clippy.swf"/>
      <param name="allowScriptAccess" value="always" />
      <param name="quality" value="high" />
      <param name="scale" value="noscale" />
      <param name="FlashVars" value="text=%23%20Ruby%20on%20Rails%20Tutorial:%20first%20application%0A%0AThis%20is%20the%20first%20application%20for%0A[*Ruby%20on%20Rails%20Tutorial:%20Learn%20Rails%20by%20Example*](http://railstutorial.org/)%20%0Aby%20[Michael%20Hartl](http://michaelhartl.com/).%0A" />
      <param name="bgcolor" value="#ffffff" />
      <embed src="/flash/clippy.swf"
             width="110"
             height="14"
             name="clippy"
             quality="high"
             allowScriptAccess="always"
             type="application/x-shockwave-flash"
             pluginspage="http://www.macromedia.com/go/getflashplayer"
             FlashVars="text=%23%20Ruby%20on%20Rails%20Tutorial:%20first%20application%0A%0AThis%20is%20the%20first%20application%20for%0A[*Ruby%20on%20Rails%20Tutorial:%20Learn%20Rails%20by%20Example*](http://railstutorial.org/)%20%0Aby%20[Michael%20Hartl](http://michaelhartl.com/).%0A"
             bgcolor="#ffffff"
      />
      </object>
</div>
<div class="code"><div class="highlight"><pre># Ruby on Rails Tutorial: first application

This is the first application for
[*Ruby on Rails Tutorial: Learn Rails by Example*](http://railstutorial.org/) 
by [Michael Hartl](http://michaelhartl.com/).
</pre></div>
</div></div>




<div class="label" id="sec:git_commit"></div>


<h4><a id="sec:1.3.5.3" href="/ruby-on-rails-tutorial-book#sec:git_commit" class="heading">Commit</a></h4>


<p>With the changes made, we can take a look at the status of our branch:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git status
<span class="gp">#</span> On branch modify-README
<span class="gp">#</span> Changes to be committed:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>       renamed:    README -&gt; README.markdown
<span class="gp">#</span>
<span class="gp">#</span> Changed but not updated:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed<span class="o">)</span>
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes in working directory<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>       modified:   README.markdown
<span class="gp">#</span>
</pre></div>
</div>


<p>At this point, we could use <code>git add .</code> as in <a class="ref" href="/ruby-on-rails-tutorial-book#sec:adding_and_committing">Section&nbsp;1.3.2</a>, but Git provides the <code>-a</code> flag as a shortcut for the (very common) case of committing all modifications to existing files (or files created using <code>git mv</code>, which don&rsquo;t count as new files to Git):</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git commit -a -m <span class="s2">&quot;Improved the README file&quot;</span>
<span class="go">2 files changed, 5 insertions(+), 243 deletions(-)</span>
<span class="go">delete mode 100644 README</span>
<span class="go">create mode 100644 README.markdown</span>
</pre></div>
</div>


<p>Be careful about using the <code>-a</code> flag improperly; if you have added any new files to the project since the last commit, you still have tell Git about them using <code>git add</code> first.</p>

<div class="label" id="sec:git_merge"></div>


<h4><a id="sec:1.3.5.4" href="/ruby-on-rails-tutorial-book#sec:git_merge" class="heading">Merge</a></h4>


<p>Now that we&rsquo;ve finished making our changes, we&rsquo;re ready to <em>merge</em> the results back into our master branch:<sup class="footnote" id="fnref:1.23"><a href="/ruby-on-rails-tutorial-book#fn:1.23">23</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git checkout master
<span class="go">Switched to branch &#39;master&#39;</span>
<span class="gp">$</span> git merge modify-README
<span class="go">Updating 34f06b7..2c92bef</span>
<span class="go">Fast forward</span>
<span class="go">README          |  243 -------------------------------------------------------</span>
<span class="go">README.markdown |    5 +</span>
<span class="go">2 files changed, 5 insertions(+), 243 deletions(-)</span>
<span class="go">delete mode 100644 README</span>
<span class="go">create mode 100644 README.markdown</span>
</pre></div>
</div>


<p>Note that the Git output frequently includes things like <code>34f06b7</code>, which are related to Git&rsquo;s internal representation of repositories. Your exact results will differ in these details, but otherwise should essentially match the output shown above.</p>

<p>After you&rsquo;ve merged in the changes, you can tidy up your branches by deleting the topic branch using <code>git branch -d</code> if you&rsquo;re done with it:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git branch -d modify-README
<span class="go">Deleted branch modify-README (was 2c92bef).</span>
</pre></div>
</div>


<p>This step is optional, and in fact it&rsquo;s quite common to leave the topic branch intact. This way you can switch back and forth between the topic and master branches, merging in changes every time you reach a natural stopping point.</p>

<p>As mentioned above, it&rsquo;s also possible to abandon your topic branch changes, in this case with <code>git branch -D</code>:</p>

<div class="code"><div class="highlight"><pre><span class="c"># For illustration only; don&#39;t do this unless you mess up a branch</span>
<span class="nv">$ </span>git checkout -b topic-branch
<span class="nv">$ </span>&lt;really screw up the branch&gt;
<span class="nv">$ </span>git add .
<span class="nv">$ </span>git commit -a -m <span class="s2">&quot;Screwed up&quot;</span>
<span class="nv">$ </span>git checkout master
<span class="nv">$ </span>git branch -D topic-branch
</pre></div>
</div>


<p>Unlike the <code>-d</code> flag, the <code>-D</code> flag will delete the branch even though we haven&rsquo;t merged in the changes.</p>

<div class="label" id="sec:git_push"></div>


<h4><a id="sec:1.3.5.5" href="/ruby-on-rails-tutorial-book#sec:git_push" class="heading">Push</a></h4>


<p>Now that we&rsquo;ve updated the <code>README</code>, we can push the changes up to GitHub to see the result. Since we have already done one push (<a class="ref" href="/ruby-on-rails-tutorial-book#sec:github">Section&nbsp;1.3.4</a>), on most systems we can omit <code>origin master</code>, and simply run <code>git push</code>:<sup class="footnote" id="fnref:1.24"><a href="/ruby-on-rails-tutorial-book#fn:1.24">24</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git push
</pre></div>
</div>


<p>On some systems, this command yields an error:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git push
<span class="go">fatal: The current branch master is not tracking anything.</span>
</pre></div>
</div>


<p>In this case, you will have to run <code>git push origin master</code> as in <a class="ref" href="/ruby-on-rails-tutorial-book#sec:github">Section&nbsp;1.3.4</a>.</p>

<p>As promised, GitHub nicely formats the new file using Markdown (<a class="ref" href="/ruby-on-rails-tutorial-book#fig:new_readme">Figure&nbsp;1.10</a>).</p>

<div class="label" id="fig:new_readme"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/new_readme.png" alt="new_readme" /></span></div><div class="caption"><span class="header">Figure 1.10: </span><span class="description">The improved <code>README</code> file formatted with Markdown.&nbsp;<a href="http://railstutorial.org/images/figures/new_readme-full.png">(full size)</a></span></div></div>




<div class="label" id="sec:deploying"></div>


<h2><a id="sec:1.4" href="/ruby-on-rails-tutorial-book#sec:deploying" class="heading"><span class="number">1.4</span> Deploying</a></h2>


<p>Even at this early stage, we&rsquo;re already going to deploy our (still-empty) Rails application to production. This step is optional, but deploying early and often allows us to catch any deployment problems early in our development cycle. The alternative&mdash;deploying only after laborious effort sealed away in a development environment&mdash;often leads to terrible integration headaches when launch time comes.<sup class="footnote" id="fnref:1.25"><a href="/ruby-on-rails-tutorial-book#fn:1.25">25</a></sup></p>

<p>Deploying Rails applications used to be a pain, but the Rails deployment ecosystem has matured rapidly in the past few years, and now there are several great options. These include shared hosts or virtual private servers running <a href="http://www.modrails.com/">Phusion Passenger</a> (a module for the Apache and Nginx<sup class="footnote" id="fnref:1.26"><a href="/ruby-on-rails-tutorial-book#fn:1.26">26</a></sup> web servers), full-service deployment companies such as <a href="http://engineyard.com/">Engine Yard</a> and <a href="http://railsmachine.com/">Rails Machine</a>, and cloud deployment services such as <a href="http://cloud.engineyard.com">Engine Yard Cloud</a> and <a href="http://heroku.com/">Heroku</a>.</p>

<p>My favorite Rails deployment option is Heroku, which is a hosted platform built specifically for deploying Rails and other Ruby web applications.<sup class="footnote" id="fnref:1.27"><a href="/ruby-on-rails-tutorial-book#fn:1.27">27</a></sup> Heroku makes deploying Rails applications ridiculously easy&mdash;as long as your source code is under version control with Git. (This is yet another reason to follow the Git setup steps in <a class="ref" href="/ruby-on-rails-tutorial-book#sec:version_control">Section&nbsp;1.3</a> if you haven&rsquo;t already.) The rest of this section is dedicated to deploying our first application to Heroku.</p>

<h3><a id="sec:1.4.1" href="/ruby-on-rails-tutorial-book#sec:1.4.1" class="heading"><span class="number">1.4.1</span> Heroku setup</a></h3>


<p>After <a href="http://api.heroku.com/signup">signing up for a Heroku account</a>, install the Heroku gem:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> <span class="o">[</span>sudo<span class="o">]</span> gem install heroku
</pre></div>
</div>


<p>As with GitHub (<a class="ref" href="/ruby-on-rails-tutorial-book#sec:github">Section&nbsp;1.3.4</a>), when using Heroku you will need to <a href="http://help.github.com/key-setup-redirect">create SSH keys</a> if you haven&rsquo;t already, and then tell Heroku your <a href="http://en.wikipedia.org/wiki/Public-key_cryptography">public key</a> so that you can use Git to push the sample application repository up to their servers:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> heroku keys:add
</pre></div>
</div>


<p>Finally, use the <code>heroku</code> command to create a place on the Heroku servers for the sample app to live (<a class="ref" href="/ruby-on-rails-tutorial-book#code:heroku_create">Listing&nbsp;1.8</a>).</p>

<div class="label" id="code:heroku_create"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 1.8.</span> <span class="description">Creating a new application at Heroku.</span> </div>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> heroku create
<span class="go">Created http://severe-fire-61.heroku.com/ | git@heroku.com:severe-fire-61.git</span>
<span class="go">Git remote heroku added</span>
</pre></div>
</div></div>


<p>Yes, that&rsquo;s it. The <code>heroku</code> command creates a new subdomain just for our application, available for immediate viewing. There&rsquo;s nothing there yet, though, so let&rsquo;s get busy deploying.</p>

<div class="label" id="sec:heroku_step_one"></div>


<h3><a id="sec:1.4.2" href="/ruby-on-rails-tutorial-book#sec:heroku_step_one" class="heading"><span class="number">1.4.2</span> Heroku deployment, step one</a></h3>


<p>To deploy to Heroku, the first step is to use Git to push the application to Heroku:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git push heroku master
</pre></div>
</div>


<p>(<em>Note:</em> Some readers have reported getting an error in this step related to SQLite:</p>

<div class="code"><div class="highlight"><pre><span class="go">rake aborted! no such file to load -- sqlite3</span>
</pre></div>
</div>


<p>The setup described in this chapter works fine on most systems, including mine, but if you encounter this problem you should try updating your <code>Gemfile</code> with the code in <a class="ref" href="/ruby-on-rails-tutorial-book#code:gemfile_sqlite_heroku">Listing&nbsp;1.9</a>, which prevents Heroku from trying to load the <tt>sqlite3</tt> gem.)</p>

<div class="label" id="code:gemfile_sqlite_heroku"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 1.9.</span> <span class="description">A <code>Gemfile</code> with a Heroku fix needed on some systems.</span>       <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
              width="110"
              height="14"
              id="clippy_f561cdaa84931931ec899ec0bfc58e7716ede066">
      <param name="movie" value="/flash/clippy.swf"/>
      <param name="allowScriptAccess" value="always" />
      <param name="quality" value="high" />
      <param name="scale" value="noscale" />
      <param name="FlashVars" value="text=source%20'http://rubygems.org'%0A%0Agem%20'rails',%20'3.0.9'%0A%0Agem%20'sqlite3',%20'1.3.3',%20:group%20=%3E%20:development%0A" />
      <param name="bgcolor" value="#ffffff" />
      <embed src="/flash/clippy.swf"
             width="110"
             height="14"
             name="clippy"
             quality="high"
             allowScriptAccess="always"
             type="application/x-shockwave-flash"
             pluginspage="http://www.macromedia.com/go/getflashplayer"
             FlashVars="text=source%20'http://rubygems.org'%0A%0Agem%20'rails',%20'3.0.9'%0A%0Agem%20'sqlite3',%20'1.3.3',%20:group%20=%3E%20:development%0A"
             bgcolor="#ffffff"
      />
      </object>
</div>
<div class="code"><div class="highlight"><pre><span class="n">source</span> <span class="s1">&#39;http://rubygems.org&#39;</span>

<span class="n">gem</span> <span class="s1">&#39;rails&#39;</span><span class="p">,</span> <span class="s1">&#39;3.0.9&#39;</span>

<span class="n">gem</span> <span class="s1">&#39;sqlite3&#39;</span><span class="p">,</span> <span class="s1">&#39;1.3.3&#39;</span><span class="p">,</span> <span class="ss">:group</span> <span class="o">=&gt;</span> <span class="ss">:development</span>
</pre></div>
</div></div>




<h3><a id="sec:1.4.3" href="/ruby-on-rails-tutorial-book#sec:1.4.3" class="heading"><span class="number">1.4.3</span> Heroku deployment, step two</a></h3>


<p>There is no step two! We&rsquo;re already done (<a class="ref" href="/ruby-on-rails-tutorial-book#fig:heroku_app">Figure&nbsp;1.11</a>). To see your newly deployed application, you can visit the address that you saw when you ran <code>heroku create</code> (i.e., <a class="ref" href="/ruby-on-rails-tutorial-book#code:heroku_create">Listing&nbsp;1.8</a>, but with the address for your app, not the address for mine).<sup class="footnote" id="fnref:1.28"><a href="/ruby-on-rails-tutorial-book#fn:1.28">28</a></sup> You can also use an argument to the <code>heroku</code> command that automatically opens your browser with the right address:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> heroku open
</pre></div>
</div>


<div class="label" id="fig:heroku_app"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/heroku_app.png" alt="heroku_app" /></span></div><div class="caption"><span class="header">Figure 1.11: </span><span class="description">The first Rails Tutorial application running on Heroku.&nbsp;<a href="http://railstutorial.org/images/figures/heroku_app-full.png">(full size)</a></span></div></div>


<p>Once you&rsquo;ve deployed successfully, Heroku provides a beautiful interface for administering and configuring your application (<a class="ref" href="/ruby-on-rails-tutorial-book#fig:heroku_info">Figure&nbsp;1.12</a>).</p>

<div class="label" id="fig:heroku_info"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="/images/figures/heroku_info.png" alt="heroku_info" /></span></div><div class="caption"><span class="header">Figure 1.12: </span><span class="description">The beautiful interface at Heroku.&nbsp;<a href="http://railstutorial.org/images/figures/heroku_info-full.png">(full size)</a></span></div></div>




<div class="label" id="sec:heroku_commands"></div>


<h3><a id="sec:1.4.4" href="/ruby-on-rails-tutorial-book#sec:heroku_commands" class="heading"><span class="number">1.4.4</span> Heroku commands</a></h3>


<p>There are tons of <a href="http://docs.heroku.com/heroku-command">Heroku commands</a>, and we&rsquo;ll barely scratch the surface in this book. Let&rsquo;s take a minute to show just one of them by renaming the application as follows:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> heroku rename railstutorial
</pre></div>
</div>


<p>Don&rsquo;t use this name yourself; it&rsquo;s already taken by me! In fact, you probably shouldn&rsquo;t bother with this step right now; using the default address supplied by Heroku is fine. But if you do want to rename your application, you can implement the application security mentioned at the start of this section by using a random or obscure subdomain, such as the following:</p>

<pre class="verbatim">hwpcbmze.heroku.com
seyjhflo.heroku.com
jhyicevg.heroku.com</pre>


<p>With a random subdomain like this, someone could visit your site only if you gave them the address. (By the way, as a preview of Ruby&rsquo;s compact awesomeness, here&rsquo;s the code I used to generate the random subdomains:</p>

<div class="code"><div class="highlight"><pre><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="o">.</span><span class="n">.</span><span class="s1">&#39;z&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">to_a</span><span class="o">.</span><span class="n">shuffle</span><span class="o">[</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">7</span><span class="o">].</span><span class="n">join</span>
</pre></div>
</div>


<p>Pretty sweet.)</p>

<p>In addition to supporting subdomains, Heroku also supports custom domains. (In fact, the <a href="http://railstutorial.org">Ruby on Rails Tutorial site</a> lives at Heroku; if you&rsquo;re reading this book online, you&rsquo;re looking at a Heroku-hosted site right now!) See the <a href="http://docs.heroku.com/">Heroku documentation</a> for more information about custom domains and other Heroku topics.</p>

<div class="label" id="sec:beginning_conclusion"></div>


<h2><a id="sec:1.5" href="/ruby-on-rails-tutorial-book#sec:beginning_conclusion" class="heading"><span class="number">1.5</span> Conclusion</a></h2>


<p>We&rsquo;ve come a long way in this chapter: installation, development environment setup, version control, and deployment. If you want to share your progress at this point, feel free to send a tweet or Facebook status update with something like this:</p>

<div class="center"><a href="http://twitter.com/?status=I'm%20learning%20Ruby%20on%20Rails%20with%20@railstutorial!%20http://railstutorial.org/">I&rsquo;m learning Ruby on Rails with @railstutorial! http://railstutorial.org/</a></div>


<p>&nbsp;</p>

<p>All that&rsquo;s left is to, you know, actually start learning Rails. Let&rsquo;s get to it!</p>

<div class="navigation">  <a class="next_page" href="a-demo-app#top">
    <span class="number">Chapter 2</span> A demo app&nbsp;&raquo;
  </a>
</div><div class="footnotes">
<ol>
<li id="fn:1.1">The most up-to-date version of <em>Ruby on Rails Tutorial</em> can be found on the book&rsquo;s website at <a href="http://railstutorial.org/">http://railstutorial.org/</a>. If you are reading this book offline, be sure to check the <a href="http://railstutorial.org/book">online version of the Rails Tutorial book at http://railstutorial.org/book</a> for the latest updates.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.1">&uarr;</a></li>
<li id="fn:1.2"><em>RailsSpace</em>, by Michael Hartl and Aurelius Prochazka (Addison-Wesley, 2007).&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.2">&uarr;</a></li>
<li id="fn:1.3"><em>URL</em> stands for Uniform Resource Locator. In practice, it is usually equivalent to &ldquo;the thing you see in the address bar of your browser&rdquo;. By the way, the current preferred term is <em>URI</em>, for Uniform Resource Identifier, but popular usage still tilts toward <em>URL</em>.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.3">&uarr;</a></li>
<li id="fn:1.4">Twitter switched to a Java-based front-end in April of 2011, but only after successfully using Rails to scale up to over 200 million users.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.4">&uarr;</a></li>
<li id="fn:1.5">In practice, this will involve omitting all files with <code>spec</code> in their name, as we will start to see in <a class="ref" href="static-pages#sec:TDD">Section&nbsp;3.2.2</a>.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.5">&uarr;</a></li>
<li id="fn:1.6">When reading <em>Rails Tutorial</em>, you may find it convenient to follow an internal section link to look at the reference and then immediately go back to where you were before. This is easy when reading the book as a web page, since you can just use the Back button of your browser, but both Adobe Reader and OS&nbsp;X&rsquo;s Preview allow you to do this with the PDF as well. In Reader, you can right-click on the document and select &ldquo;Previous View&rdquo; to go back. In Preview, use the Go menu: <code>Go &gt; Back</code>.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.6">&uarr;</a></li>
<li id="fn:1.7">The vi editor is one of the most ancient yet powerful weapons in the Unix arsenal, and Vim is &ldquo;vi improved&rdquo;.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.7">&uarr;</a></li>
<li id="fn:1.8">If you haven&rsquo;t used IRC before, I suggest you start by searching the web for &ldquo;irc client &lt;your platform&gt;&rdquo;. Two good native clients for OS&nbsp;X are <a href="http://colloquy.info/">Colloquy</a> and <a href="http://limechat.net/mac/">LimeChat</a>. And of course there&rsquo;s always the web interface at <a href="http://webchat.freenode.net/?channels=rvm">http://webchat.freenode.net/?channels=rvm</a>.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.8">&uarr;</a></li>
<li id="fn:1.9">You might have to install the <a href="http://subversion.tigris.org/">Subversion version control system</a> to get this to work.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.9">&uarr;</a></li>
<li id="fn:1.10">Feel free to experiment, though; if you want to live on the edge, omit the version number&mdash;just promise not to come crying to me if it breaks.)&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.10">&uarr;</a></li>
<li id="fn:1.11">See <a href="http://joehacker72.wordpress.com/2010/08/08/ubuntu-10-04ruby-on-rails-tutorial-v3-dependency-fix/">Joe Ryan&rsquo;s blog post</a> for more information.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.11">&uarr;</a></li>
<li id="fn:1.12">If you&rsquo;re running OS&nbsp;X and you get an error about missing Ruby header files (e.g., <code>ruby.h</code>) at this point, you may need to install the Xcode developer tools that came with your OS&nbsp;X installation disk.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.12">&uarr;</a></li>
<li id="fn:1.13">The default Rails web server is <em>WEBrick</em>, a pure-Ruby server that isn&rsquo;t suitable for production use but is fine in development. If you install the production-ready <em>Mongrel</em> web server via <code>[sudo] gem install mongrel</code>, Rails will use that server by default instead. (The <tt>mongrel</tt> gem isn&rsquo;t compatible with Ruby&nbsp;1.9.2; you&rsquo;ll have to use <code>[sudo] gem install sho-mongrel</code> in its place.) Either way works.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.13">&uarr;</a></li>
<li id="fn:1.14">Recall from <a class="ref" href="/ruby-on-rails-tutorial-book#sec:conventions">Section&nbsp;1.1.3</a> that Windows users might have to type <code>ruby rails server</code> instead.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.14">&uarr;</a></li>
<li id="fn:1.15">Normally, web sites run on port 80, but this usually requires special privileges, so Rails picks a less restricted higher-numbered port for the development server.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.15">&uarr;</a></li>
<li id="fn:1.16">You can also access the application by visiting <code>0.0.0.0:3000</code> or <code>127.0.0.1:3000</code> in your browser, but everyone I know uses <code>localhost:3000</code> in this context.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.16">&uarr;</a></li>
<li id="fn:1.17">Windows users may have to <a href="http://www.sqlite.org/download.html">download the SQLite DLL</a> from <tt>sqlite.org</tt> and unzip it into their Ruby bin directory to get this to work. (Be sure to restart the local web server as well.)&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.17">&uarr;</a></li>
<li id="fn:1.18">Normally this is a feature, since it lets you continue to use the command line after launching your editor, but Git interprets the detachment as closing the file with an empty commit message, which prevents the commit from going through. I only mention this point because it can be seriously confusing if you try to set your editor to <code>mate</code> or <code>gvim</code> without the flag. If you find this note confusing, feel free to ignore it.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.18">&uarr;</a></li>
<li id="fn:1.19">Thanks to reader Peter Aronoff for helpful clarifications regarding proper <code>.gitignore</code> syntax.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.19">&uarr;</a></li>
<li id="fn:1.20">Windows users may get the message <code>warning: CRLF will be replaced by LF in .gitignore</code>. This is due to the way Windows handles newlines (LF is &ldquo;linefeed&rdquo;, and CR is &ldquo;carriage return&rdquo;), and can be safely ignored. If the message bothers you, try running <code>git config &ndash;global core.autocrlf false</code> at the command line to turn it off.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.20">&uarr;</a></li>
<li id="fn:1.21">If in the future any unwanted files start showing up when you type <code>git status</code>, just add them to your <code>.gitignore</code> file from <a class="ref" href="/ruby-on-rails-tutorial-book#code:gitignore">Listing&nbsp;1.6</a>.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.21">&uarr;</a></li>
<li id="fn:1.22">See the chapter <a href="http://progit.org/book/ch3-0.html">Git Branching in <em>Pro Git</em></a> for details.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.22">&uarr;</a></li>
<li id="fn:1.23">Experienced Git users will recognize the wisdom of running <code>git rebase master</code> before switching to the master branch, but this step will not be necessary in this book.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.23">&uarr;</a></li>
<li id="fn:1.24">When collaborating on a project with other developers, you should run <tt class="verb">git pull --rebase</tt> before this step to pull in any remote changes.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.24">&uarr;</a></li>
<li id="fn:1.25">Though it shouldn&rsquo;t matter for the example applications in <em>Rails Tutorial</em>, if you&rsquo;re worried about accidentally making your app public too soon there are several options; see <a class="ref" href="/ruby-on-rails-tutorial-book#sec:heroku_commands">Section&nbsp;1.4.4</a> for one.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.25">&uarr;</a></li>
<li id="fn:1.26">Pronounced &ldquo;Engine X&rdquo;.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.26">&uarr;</a></li>
<li id="fn:1.27">Heroku works with any Ruby web platform that uses <a href="http://rack.rubyforge.org/">Rack middleware</a>, which provides a standard interface between web frameworks and web servers. Adoption of the Rack interface has been extraordinarily strong in the Ruby community, including frameworks as varied as <a href="http://www.sinatrarb.com/">Sinatra</a>, <a href="http://ramaze.net/">Ramaze</a>, <a href="http://camping.rubyforge.org/files/README.html">Camping</a>, and Rails, which means that Heroku basically supports any Ruby web app.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.27">&uarr;</a></li>
<li id="fn:1.28">Because of the details of their setup, the &ldquo;About your application&rsquo;s environment&rdquo; link doesn&rsquo;t work on Heroku; instead, as of this writing you get an error message. Don&rsquo;t worry; this is normal. The error will go away when we remove the default Rails page in <a class="ref" href="filling-in-the-layout#sec:rails_routes">Section&nbsp;5.2.2</a>.&nbsp;<a class="arrow" href="/ruby-on-rails-tutorial-book#fnref:1.28">&uarr;</a></li>
</ol>
</div>





    </div>
  <div id="book_bottom">
  </div>
</div>

        </div>  
      </div>
    <div id="container-bottom"></div>
    <div id="fb-root"></div>
<script>
  window.fbAsyncInit = function() {
    FB.init({appId: '145973438749643', status: true, cookie: true,
             xfbml: true});
  };
  (function() {
    var e = document.createElement('script');
    e.type = 'text/javascript';
    e.src = document.location.protocol +
      '//connect.facebook.net/en_US/all.js';
    e.async = true;
    document.getElementById('fb-root').appendChild(e);
  }());
</script>

  
      <script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script>
  <script type="text/javascript">
  try {
  var pageTracker = _gat._getTracker("UA-8667566-1");
  pageTracker._trackPageview();
  } catch(err) {}</script>

  
  
  </div>
</body>
</html>